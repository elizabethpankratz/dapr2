<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Semester 2 Block 2 (Advanced Topics for LM) Recap</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);
e.style.display = ((e.style.display!='none') ? 'none' : 'block');
if(f.classList.contains('fa-chevron-circle-right')) {
    f.classList.add('fa-chevron-circle-down')
    f.classList.remove('fa-chevron-circle-right')
} else {
    f.classList.add('fa-chevron-circle-right')
    f.classList.remove('fa-chevron-circle-down')
}
}
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>






<link rel="stylesheet" href="assets/style-labs.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><strong>DAPR2</strong></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Intro to Linear Models
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="1_01_models.html">1/1: Functions and models</a>
    </li>
    <li>
      <a href="1_02_slr.html">1/2: Intro to Linear Regression</a>
    </li>
    <li>
      <a href="1_03_slr_model_fit.html">1/3: More Linear Regression</a>
    </li>
    <li>
      <a href="1_04_mlr.html">1/4: Multiple Predictors</a>
    </li>
    <li>
      <a href="1_05_int_nc.html">1/5: Interactions: Num * Cat</a>
    </li>
    <li class="dropdown-header">1/6: Break week</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    More Linear Models
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="1_07_int_nn.html">1/7: Interactions: Num * Num</a>
    </li>
    <li>
      <a href="1_08_int_cc.html">1/8: Interactions: Cat * Cat</a>
    </li>
    <li>
      <a href="1_09_assumptions.html">1/9: Assumptions &amp; Diagnostics</a>
    </li>
    <li>
      <a href="1_10_bootstrap_reg.html">1/10: Bootstrap &amp; Troubleshooting</a>
    </li>
    <li>
      <a href="1_11_write_up.html">1/11: Writing-up</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analyzing Experimental Studies
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="2_01_model_comp.html">2/1: Model Comparisons</a>
    </li>
    <li>
      <a href="2_02_coding_factors.html">2/2: Coding Factors</a>
    </li>
    <li>
      <a href="2_03_cont_design_factanova.html">2/3: Contrasts, Study Design, &amp; Factorial ANOVA</a>
    </li>
    <li>
      <a href="2_04_factorial_anova.html">2/4: Two-Way ANOVA</a>
    </li>
    <li>
      <a href="2_05_multi_comp_writeup.html">2/5: Assumptions, Multiple Comparisons, Corrections, &amp; Write-Up Example</a>
    </li>
    <li class="dropdown-header">2/6: Break week</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced Topics for LM
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="2_07_binary.html">2/7: Binary Logistic Regression</a>
    </li>
    <li>
      <a href="2_08_morelogistic.html">2/8: More Logistic Regression</a>
    </li>
    <li>
      <a href="2_09_exp_vs_conf.html">2/9: Exploratory vs Confirmatory</a>
    </li>
    <li>
      <a href="2_10_power.html">2/10: Sample Size and Power Analysis</a>
    </li>
    <li>
      <a href="2_11_recap">2/11: Block 2 Recap</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="intro_r_rstudio.html">Getting started with R &amp; RStudio</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Semester 2 Block 2 (Advanced Topics for LM) Recap</h1>

</div>


<p>There is no new lab content for this week - the purpose of this lab is for you to revisit and revise concepts that you have learned over the last 5 weeks.</p>
<p>There are no exercises for you to complete. You can use this time to finish any outstanding lab exercises, or to help guide your revision work through the flashcards below.</p>
<div class="yellow">
<p>Before you expand each of the boxes below, think about how comfortable you feel with each concept.</p>
</div>
<div class="optional-begin">
<span id="opt-start-215" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-215&#39;, &#39;opt-start-215&#39;)"> Probability, Odds, Log-Odds</span>
</div>
<div id="opt-body-215" class="optional-body" style="display: none;">
<ul>
<li><p>The <strong>probability</strong> <span class="math inline">\(p\)</span> ranges from 0 to 1.</p></li>
<li><p>The <strong>odds</strong> <span class="math inline">\(\frac{p}{1-p}\)</span> ranges from 0 to <span class="math inline">\(\infty\)</span>.</p></li>
<li><p>The <strong>log-odds</strong> <span class="math inline">\(\log \left( \frac{p}{1-p} \right)\)</span> ranges from <span class="math inline">\(-\infty\)</span> to <span class="math inline">\(\infty\)</span>.</p></li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:plodd"></span>
<img src="images/glm/plo.png" alt="Probability, Odds and Log-odds" width="95%" />
<p class="caption">
Figure 1: Probability, Odds and Log-odds
</p>
</div>
<p>In order to understand the connections among these concepts, lets work with an example where the <em>probability</em> of an event occurring is 0.2:</p>
<ul>
<li>Odds of event occurring:</li>
</ul>
<p><span class="math display">\[
\text{odds} = (\frac{0.2}{0.8}) = 0.25
\]</span></p>
<ul>
<li>Log-odds of the event occurring:</li>
</ul>
<p><span class="math display">\[
log(\frac{0.2}{0.8}) = -1.3863 \\ \ \\
\text{OR} \\ \ \\ 
log(0.25) = -1.3863
\]</span></p>
<ul>
<li>Probability can be reconstructed as:</li>
</ul>
<p><span class="math display">\[
(\frac{odds}{1+odds}) = (\frac{0.25}{1+0.25}) = 0.2 \\ \ \\
\text{OR} \\ \ \\ 
(\frac{exp(log(odds))}{1+exp(log(odds))}) = (\frac{exp(-1.3863)}{1+exp(-1.3683)}) = (\frac{0.25}{1.25}) = 0.2
\]</span></p>
<div class="blue">
<p>In <strong>R</strong>:</p>
<ul>
<li><p>obtain the odds</p>
<p><code>odds &lt;- 0.2 / (1 - 0.2)</code></p></li>
<li><p>obtain the log-odds for a given probability</p>
<p><code>log_odds &lt;- log(0.25)</code></p>
<p><strong>OR</strong></p>
<p><code>log_odds &lt;- qlogis(0.2)</code></p></li>
<li><p>obtain the probability from the odds</p>
<p><code>prob_O &lt;- odds / (1 + odds)</code></p></li>
<li><p>obtain the probability from the log-odds</p>
<p><code>prob_LO &lt;- exp(log_odds) / (1 + exp(log_odds))</code></p>
<p><strong>OR</strong></p>
<p><code>prob_LO &lt;- plogis(log_odds)</code></p></li>
</ul>
</div>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-216" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-216&#39;, &#39;opt-start-216&#39;)"> Generalized Linear Models</span>
</div>
<div id="opt-body-216" class="optional-body" style="display: none;">
<p>Generalized linear models can be fitted in R using the <code>glm</code> function, which is similar to the <code>lm</code> function for fitting linear models. However, we also need to specify the family (i.e., link) function. There are three key components to consider:</p>
<ul>
<li>Random component / probability distribution - The distribution of the response/outcome variable. Can be from any family of distributions as listed below.</li>
<li>Systematic component / linear predictor - the explanatory/predictor variable(s) (can be continuous or discrete).</li>
<li>Link function - specifies the link between a random and systematic components.</li>
</ul>
<p><strong>Formula:</strong></p>
<p><span class="math inline">\(y_i = \beta_0 + \beta_1 x_i + + \beta_2 x_i + \epsilon_i\)</span></p>
<div class="blue">
<p><strong>In R:</strong></p>
<p><code>glm(y ~ x1 + x2, data = data, family = &lt;INSERT_FAMILY&gt;)</code></p>
</div>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-217" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-217&#39;, &#39;opt-start-217&#39;)"> Family Argument</span>
</div>
<div id="opt-body-217" class="optional-body" style="display: none;">
<p>The family argument takes (the name of) a family function which specifies the link function and variance function (as well as a few other arguments not entirely relevant to the purpose of this course).</p>
<p>The exponential family functions available in <strong>R</strong> are:</p>
<ul>
<li><code>binomial</code> (link = “logit”)</li>
<li><code>gaussian</code> (link = “identity”)</li>
<li><code>poisson</code> (link = “log”)</li>
<li><code>Gamma</code> (link = “inverse”)</li>
<li><code>inverse.gaussian</code> (link = “1/mu2”)</li>
</ul>
<p>See <code>?glm</code> for other modeling options. See <code>?family</code> for other allowable link functions for each family.</p>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-218" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-218&#39;, &#39;opt-start-218&#39;)"> Binary Logistic Regression</span>
</div>
<div id="opt-body-218" class="optional-body" style="display: none;">
<p>When a response (y) is binary coded (e.g., 0/1; failure/success; no/yes; fail/pass; unemployed/employed) we must use logistic regression. The predictors can either be continuous or categorical.</p>
<p><span class="math display">\[
{\log(\frac{p_i}{1-p_i})} = \beta_0 + \beta_1 \ x_{i1} 
\]</span></p>
<div class="blue">
<p><strong>In R:</strong></p>
<p><code>glm(y ~ x1 + x2, data = data, family = binomial)</code></p>
</div>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-219" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-219&#39;, &#39;opt-start-219&#39;)"> Interpreting Coefficients</span>
</div>
<div id="opt-body-219" class="optional-body" style="display: none;">
<p>To translate log-odds to odds in order to aid interpretation, you must exponentiate (i.e., by using <code>exp()</code>) the coefficients from your model.</p>
<div class="blue">
<p><strong>In R:</strong></p>
<p><code>exp(coef(modelname))</code></p>
<p>We can also use R to extract predicted probabilities for us from our models.</p>
<ul>
<li>Calculate the predicted log-odds (probabilities on the logit scale): <code>predict(model, type="link")</code></li>
<li>Calculate the predicted probabilities: <code>predict(model, type="response")</code></li>
</ul>
</div>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-220" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-220&#39;, &#39;opt-start-220&#39;)"> Exploratory vs Confirmatory Analyses</span>
</div>
<div id="opt-body-220" class="optional-body" style="display: none;">
<p><em>Exploratory</em> analyses are conducted when either (1) you have a hypothesis but no clear analysis plan/strategy; (2) you have lots of variables that might be associated with an outcome variable, but you’re not sure which or in what ways i.e., no clear predictions. It also provides tools for hypothesis generation - particularly via visualisation of data.</p>
<p><em>Confirmatory</em> analyses are conducted when you have a specific research question to test. You can think of this type of analysis as putting your hypotheses to trial - does your data support or fail to support your argument?</p>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-221" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-221&#39;, &#39;opt-start-221&#39;)"> Steps in Exploratory Analyses</span>
</div>
<div id="opt-body-221" class="optional-body" style="display: none;">
<p>There are a number of steps involved in exploratory analyses:</p>
<ul>
<li>Step 1: Check coding of data and visualise variables of interest</li>
<li>Step 2: Compare models of interest to find if your variables of interest are good predictors of your outcome variable</li>
<li>Step 3: Compute the k-fold cross validation MSE for each of your models</li>
<li>Step 4: Identify best fitting model</li>
</ul>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-222" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-222&#39;, &#39;opt-start-222&#39;)"> Power</span>
</div>
<div id="opt-body-222" class="optional-body" style="display: none;">
<p><strong>Power for regression</strong></p>
<p>In linear regression, the relevant function in <strong>R</strong> is</p>
<pre><code>library(pwr)
pwr.f2.test(u = , v = , f2 = , sig.level = , power = )</code></pre>
<p>where</p>
<ul>
<li><code>u</code> = numerator degrees of freedom</li>
<li><code>v</code> = denominator degrees of freedom</li>
<li><code>f2</code> = effect size</li>
</ul>
<div id="section" class="section level2 unnumbered tabset">
<h2 class="unnumbered tabset"></h2>
<p>The formula for the effect size <span class="math inline">\(f^2\)</span> is different depending on your goal.</p>
<div id="goal-1.-test-on-all-slopes" class="section level3">
<h3>Goal 1. Test on all slopes</h3>
<p>Here you have one model,
<span class="math display">\[
y = \beta_0 + \beta_1 x_1 + \dots + \beta_k x_k + \epsilon
\]</span></p>
<p>and you wish to find the minimum sample size required to answer the following test of hypothesis with a given power:
<span class="math display">\[
\begin{aligned}
H_0 &amp;: \beta_1 = \beta_2 = \dots = \beta_k = 0 \\
H_1 &amp;: \text{At least one } \beta_i \neq 0
\end{aligned}
\]</span></p>
<p>The appropriate formula for the effect size is:
<span class="math display">\[
f^2 = \frac{R^2}{1 - R^2}
\]</span></p>
<p>And the numerator degrees of freedom are <span class="math inline">\(\texttt u = k\)</span>, the number of predictors in the model.</p>
<p>The denominator degrees of freedom returned by the function will give you:
<span class="math display">\[
\texttt v = n - (k + 1) = n - k - 1
\]</span></p>
<p>From which you can infer the sample size as
<span class="math display">\[
n = \texttt v + k + 1
\]</span></p>
</div>
<div id="goal-2.-test-on-a-subset-of-slopes" class="section level3">
<h3>Goal 2. Test on a subset of slopes</h3>
<p>In this case you would have a smaller model <span class="math inline">\(m\)</span> with <span class="math inline">\(k\)</span> predictors and a larger model <span class="math inline">\(M\)</span> with <span class="math inline">\(K\)</span> predictors:
<span class="math display">\[
\begin{aligned}
m &amp;: \quad y = \beta_0 + \beta_1 x_1 + \dots + \beta_{k} x_k 
+ \epsilon \\
M &amp;: \quad y = \beta_0 + \beta_1 x_1 + \dots + \beta_{k} x_k 
+ \underbrace{\beta_{k + 1} x_{k+1} + \dots + \beta_{K} x_K}_{\text{extra predictors}}
+ \epsilon
\end{aligned}
\]</span></p>
<p>This case is when you wish to find the minimum sample size required to answer the following test of hypothesis:
<span class="math display">\[
\begin{aligned}
H_0 &amp;: \beta_{k+1} = \beta_{k+2} = \dots = \beta_K = 0 \\
H_1 &amp;: \text{At least one of the above } \beta \neq 0
\end{aligned}
\]</span></p>
<p>You need to use the R-squared from the larger model <span class="math inline">\(R^2_M\)</span> and the R-squared from the smaller model <span class="math inline">\(R^2_m\)</span>. The appropriate formula for the effect size is:
<span class="math display">\[
f^2 = \frac{R^2_{M} - R^2_{m}}{1 - R^2_M}
\]</span></p>
<p>Here, the numerator degrees of freedom are the extra predictors: <span class="math inline">\(\texttt u = K - k\)</span>.</p>
<p>The denominator degrees of freedom returned by the function will give you (here you use <span class="math inline">\(K\)</span> the number of all predictors in the larger model):
<span class="math display">\[
\texttt v = n - (K + 1) = n - K - 1
\]</span></p>
<p>From which you can infer the sample size as
<span class="math display">\[
n = \texttt v + K + 1
\]</span></p>
</div>
<div id="generic-guidelines" class="section level3">
<h3>3. Generic guidelines</h3>
<p>But what can you do if you have no clue what effect size to expect in a given study? Cohen (1988)<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> provided guidelines for what a small, medium, or large effect typically is in the behavioural sciences.</p>
<table>
<thead>
<tr class="header">
<th align="left">Type of test</th>
<th align="center">Small</th>
<th align="center">Medium</th>
<th align="center">Large</th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">t-test</td>
<td align="center">0.20</td>
<td align="center">0.50</td>
<td align="center">0.80</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="left">ANOVA</td>
<td align="center">0.10</td>
<td align="center">0.25</td>
<td align="center">0.40</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="left">Linear regression</td>
<td align="center">0.02</td>
<td align="center">0.15</td>
<td align="center">0.35</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>For more information, please refer to Cohen J. (1992).<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
</div>
</div>
<div id="section-1" class="section level2 unnumbered">
<h2 class="unnumbered"></h2>
</div>
</div>
<p class="optional-end">
</p>
<!-- Formatting -->
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Cohen, J. (1988) <em>Statistical Power Analysis for the Behavioral Sciences</em>, 2nd ed. Hillsdale, NJ: Lawrence Erlbaum.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Cohen J. (1992) A power primer, <em>Psychological Bulletin, 112</em>(1): 155–159. PDF available via the University of Edinburgh library at <a href="https://discovered.ed.ac.uk/permalink/f/1s15qcp/TN_cdi_proquest_journals_614317877">this link.</a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>

<link rel="stylesheet" href="https://uoepsy.github.io/assets/css/ccfooter.css" />
<div class="ccfooter"></div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
