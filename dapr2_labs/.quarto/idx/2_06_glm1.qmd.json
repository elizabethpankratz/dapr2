{"title":"Binary Logistic Regression","markdown":{"yaml":{"title":"Binary Logistic Regression","link-citations":true,"params":{"SHOW_SOLS":true,"TOGGLE":true},"editor_options":{"chunk_output_type":"console"}},"headingText":"<i class=\"fa fa-graduation-cap\"></i> Learning Objectives","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nsource('assets/setup.R')\n\nset.seed(953)\n\nlibrary(DT)\nlibrary(pander)\nlibrary(sjPlot)\nlibrary(tidyverse)\nlibrary(car)\n\n```\n\n:::lo\n\nAt the end of this lab, you will:\n\n1. Understand when to use a logistic model\n2. Understand how to fit and interpret a logistic model\n\n### <i class=\"fa fa-check-square-o fa-2\"></i> What You Need\n\n1. Be up to date with lectures\n\n### <i class=\"fab fa-r-project\"></i> Required R Packages\nRemember to load all packages within a code chunk at the start of your RMarkdown file using `library()`. If you do not have a package and need to install, do so within the console using `install.packages(\" \")`. For further guidance on installing/updating packages, see Section C [here](https://uoepsy.github.io/files/install-update-r#update-pkgs). \n\nFor this lab, you will need to load the following package(s):\n\n* **tidyverse** \n* **patchwork**\n* **kableExtra**\n* **psych**\n* **sjPlot**\n\n### <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> Presenting Results\nAll results should be presented following [APA guidelines](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf). If you need a reminder on how to hide code, format tables/plots, etc., make sure to review the [rmd bootcamp](https://uoepsy.github.io//rmd-bootcamp/).\n\nThe example write-up sections included as part of the solutions are **not perfect** - they instead should give you a good example of what information you should include and how to structure this. Note that you must **not** copy any of the write-ups included below for future reports - if you do, you will be committing plagiarism, and this type of academic misconduct is taken very seriously by the University. You can find out more [here](https://www.ed.ac.uk/academic-services/students/conduct/academic-misconduct).\n\n### <i class=\"fa fa-file\"></i> Lab Data\nYou can download the data required for this lab [here](https://uoepsy.github.io/data/drunkdoor.csv) or read it in via this link https://uoepsy.github.io/data/drunkdoor.csv. \n:::\n\n# Study Overview {#sec-studyview}\n\n> **Research Question** \n>\n> Is susceptibility to change blindness influenced by age, level of alcohol intoxication, and perceptual load?\n\n`r optbegin(\"Drunk Door Codebook\", olabel=FALSE, toggle=params$TOGGLE)` \n\n__Description__\n\nFor an example of a change blindness experiment, watch the following video:\n\n<p align=\"center\">\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/FWSxSQsspiQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe><br>\n\nOr review this paper: [Simons, D. J., & Levin, D. T. (1997). Change blindness. Trends in cognitive sciences, 1(7), 261-267.](https://www.cse.iitk.ac.in/users/se367/11/papers/simons-ambinder-05_change-blindness.pdf). You may well have already heard of these series of experiments, or have seen similar things on [Netflix](https://www.netflix.com/gb/title/80190510).\n\n__Method__\n\nResearchers conducted a study in which they approached 120 people, recruited from within the vicinity of a number of establishments with licenses to sell alcohol to be consumed on-premises. Initially, experimenter A approached participants and asked if they were interested in participating in a short study, and obtained their written consent. While experimenter A subsequently talked each participant through a set of questions on multiple pieces of paper (with the pretense of explaining what the participant was required to do), experimenters B and C carrying a door passed between the participant and experimenter A, with experimenter C replacing A (as can be viewed in the video). \n\nThe perceptual load of the experiment was manipulated via a) the presentation of the door and b) the papers held by the experimenters. For 60 of these participants, the door was painted with some detailed graffiti and had a variety of pieces of paper and notices attached to the side facing the participants. Additionally, for these participants, the experimenters handled a disorganised pile of 30 papers, with the top pages covered in drawings around the printed text. For the remaining 60, the door was a standard MDF construction painted a neutral grey, and the experimenters handled only 2 sheets of paper which had minimal printed text on them and nothing else. \n\n__Measures__\n\nAfter experimenters A and C had successfully swapped positions, the participant was asked (now by C) to complete small number of questions taking approximately 1 minute. Either after this set of questions, or if the participant made an indication that they had noticed the swap, the experimenters regrouped and the participant was explicitly asked whether they had noticed the swap.   \n\nImmediately after this, participants were breathalysed, and their blood alcohol content was recorded.  \n\n__Data Dictionary__\n\n```{r echo=FALSE, message=FALSE, warning=FALSE}\ndrunkdoor <- read_csv(\"https://uoepsy.github.io/data/drunkdoor.csv\")\ntibble(\nvariable = names(drunkdoor),\ndescription = c(\"Unique ID number\",\"Blood Alcohol Content (BAC) - A BAC of 0.0 is sober, while in the United States 0.08 is legally intoxicated, and above that is very impaired. BAC levels above 0.40 are potentially fatal.\", \"Age (in years)\",\"Condition - Perceptual load created by distracting oject (door) and details and amount of papers handled in front of participant (Low vs High)\", \"Whether or not the participant noticed the swap (Yes = 1 vs No = 0)\")\n) %>% gt::gt()\n```\n\n__Preview__\n\nThe first six rows of the data are:\n\n```{r echo=FALSE, message=FALSE}\nread_csv('https://uoepsy.github.io/data/drunkdoor.csv') %>% head %>% gt::gt()\n```\n\n`r optend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Setup\n\n`r qbegin(\"Setup\", qlabel = FALSE)`  \n\n1. Create a new RMarkdown file\n2. Load the required package(s)\n3. Read the drunkdoor dataset into `R`, assigning it to an object named `drunkdoor` \n \n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r message=FALSE}\n#load packages\nlibrary(tidyverse)\nlibrary(psych)\nlibrary(kableExtra)\nlibrary(patchwork)\nlibrary(sjPlot)\n\n#read in data\ndrunkdoor <- read_csv(\"https://uoepsy.github.io/data/drunkdoor.csv\")\n```\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Exercises \n\n## Study & Analysis Plan Overview \n\n`r qbegin(1)`\n\nFirstly, examine the dataset, and perform any necessary and appropriate data management steps. \n\nNext, think about the scales that the variables are currently on, with a particular focus on BAC, age, and condition. Consider:  \n\n+ Do you want BAC on the current scale, or could you transform it somehow? Consider that instead of the coefficient representing the difference when moving from 0% to 1% BAC (1% blood alcohol is fatal!), we might want to have the difference associated with 0% to 0.01% BAC (i.e, a we want to talk about effects in terms of changing 1/100th of a percentage of BAC)\n+ Do you want age to be centred at 0 years (as it currently is), or could you re-centre to make it more meaningful?\n+ In your data management, you will hopefully make condition a factor, but have you considered the reference level? It would likely make most sense for this to be set as \"Low\".\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nLet's examine the data: \n```{r}\n#look at structure of data\nstr(drunkdoor)\n\n#check for NAs - there are none - all FALSE\ntable(is.na(drunkdoor))\n```\n\nNext we need to specify Condition as a factor, and set 'Low' as the reference group:\n\n```{r}\n#re-assign categorical IVs as factors\ndrunkdoor$condition <- factor(drunkdoor$condition,\n                              levels = c(\"Low\", \"High\"))\n```\n\n```{r}\n#set 'low' as reference group\ndrunkdoor$condition <- fct_relevel(drunkdoor$condition, \"Low\")\n```\n\nIt may be more useful to have blood alcohol (BAC) in terms of 100ths of percentages, rather than percentages, for the reasons noted above. It would also be more useful for interpretation to have age centered on the mean (note that this won’t change anything other than the intercept in our model). Let's make both these changes:\n\n```{r}\ndrunkdoor <- drunkdoor %>% \n  mutate(\n    bac100 = bac*100,\n    age_mc = age - mean(age)\n  )\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(2)`\n\nProvide a brief overview of the study design and data, before detailing your analysis plan to address the research question.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\n- Give the reader some background on the context of the study\n- State what type of analysis you will conduct in order to address the research question\n- Specify the model to be fitted to address the research question \n- Specify your chosen significance ($\\alpha$) level\n- State your hypotheses\n\nMuch of the information required can be found in the [Study Overview] codebook.\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nThe `drunkdoor` dataset contained information on 120 hypothetical participants who were approached within the vicinity of a number of establishments with licenses to sell alcohol to be consumed on-premises. Using a between-subjects design experimental design, experimenters manipulated perceptual load in two ways (door appearance and number of papers held by experimenters) to create low- and high-load conditions. In the low-load condition, the door was a standard MDF construction painted in a neutral grey, and the experimenters handled only 2 sheets of paper which had minimal printed text. In the high-load condition, the door was painted with detailed graffiti and had numerous pieces of paper and notices attached to the side facing the participants, and the experimenters held a pile of 30 papers containing drawings and printed text. Experimenters recorded whether or not participants noticed the mid-conversation experimenter swap (no = 0, yes = 1). The researchers also collected information on participants' blood alcohol level (BAC; percentage of alcohol in an individual's blood stream) and age (in years).\n\nTo aid with interpretation, age was mean centered. The BAC measure was also transformed to represent a one-unit change as 0.01%, as opposed to 1%. Low-load was specified as the reference group of the perceptual load condition. \n\nDensity plots and bar plots will be used to individually visualise the associations between whether the mid-conversation swap was noticed and BAC, age, and condition. \n\nTo investigate whether the probability of noticing the swap differed as a function of age, BAC, and perceptual load, a binary logistic regression model was used, where the following model was specified: \n\n$$\n\\begin{aligned}\n\\ln \\left(\\frac{p}{1 - p}\\right) ~=~ \\beta_0 + \\beta_1 \\cdot Age + \\beta_2 \\cdot BAC + \\beta_3 \\cdot Condition_{High} \n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n\\text{where}~{p}~ &=~ \\text{probability of noticing the mid-conversation swap}\n\\end{aligned}\n$$\n\nOur hypotheses are:\n\n$H_0:$ All $\\beta_j = 0$ (for $j = 1, 2, 3$)\n\nSusceptibility to change blindness is not influenced by age, level of alcohol intoxication, or perceptual load.\n\n$H_1:$ At least one $\\beta_j \\neq  0$ (for $j = 1, 2, 3$)\n\nSusceptibility to change blindness is influenced by age, level of alcohol intoxication, and/or perceptual load.\n\nEffects will be considered statistically significant at $\\alpha = .05$.\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Descriptive Statistics & Visualisations\n\n`r qbegin(3)`\n\nProvide a table of descriptive statistics and visualise your data. \n \nRemember to interpret these in the context of the study.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\n1. For your table of descriptive statistics, both the `group_by()` and `summarise()` functions will come in handy here\n2. For your visualisations, you will need to specify `as_factor()` when plotting the notice variable since this is numeric, but we want it to be treated as a factor **only** for plotting purposes\n3. Make sure to comment on your observations\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n::: {.panel-tabset}\n\n## Numeric\n\nLet's first produce a descriptive statistics table, grouped by whether or not participants noticed the swap, and what perceptual load condition they were assigned to:\n\n```{r message=FALSE, warning=FALSE}\n#| label: tbl-cog-descript\n#| tbl-cap: Descriptive Statistics\ndoor_stats <- drunkdoor %>% \n    group_by(notice, condition) %>%\n    summarise(\n        Avg_Age = mean(age), \n        SD_Age = sd(age),\n        SE_Age = sd(age) / sqrt(n()),\n        Min_Age = min(age),\n        Max_Age = max(age),        \n        Avg_BAC = mean(bac), \n        SD_BAC = sd(bac),\n        SE_BAC = sd(bac) / sqrt(n()),\n        Min_BAC = min(bac),\n        Max_BAC = max(bac)) %>%\n    kable(caption = \"Descriptive Statistics\", digits = 2) %>%\n    kable_styling()\n\ndoor_stats\n```\n\n## Visual\n\n::: {.panel-tabset}\n\n### Notice\n```{r}\n#| label: fig-drunk1\n#| fig-cap: \"Counts of Notice\"\n\ndoor_plt1 <- ggplot(data = drunkdoor, aes(x=as_factor(notice), fill=as_factor(notice))) +\n  geom_bar() +\n  labs(x = \"Noticed Swap (0 = No, 1 = Yes)\", fill = \"Noticed Swap (0 = No, 1 = Yes)\", y = \"Frequency\")\ndoor_plt1\n\n```\n\nFrom @fig-drunk1, we can see that there are slightly more individuals that noticed the mid-conversation swap than those who did not.\n\n### Notice & Age\n```{r}\n#| label: fig-drunk2\n#| fig-cap: \"Association between Notice and Age\"\n\ndoor_plt2 <- ggplot(data = drunkdoor, aes(x=age, fill=as_factor(notice))) +\n  geom_density() +\n  labs(x = \"Age (in years)\", fill = \"Noticed Swap (0 = No, 1 = Yes)\")\ndoor_plt2 \n\n```\n\nFrom @fig-drunk2, we can see that there appear to be more older adults who did not notice the mid-conversation swap.\n\n### Notice & BAC\n```{r}\n#| label: fig-drunk3\n#| fig-cap: \"Association between Notice and BAC\"\n\ndoor_plt3 <- ggplot(data = drunkdoor, aes(x=bac, fill=as_factor(notice))) +\n  geom_density() +\n  labs(x = \"BAC\", fill = \"Noticed Swap (0 = No, 1 = Yes)\")\ndoor_plt3\n\n```\n\nFrom @fig-drunk3, we can see that higher BAC appears to be positively associated with noticing a mid-conversation swap.\n\n### Notice & Task\n```{r}\n#| label: fig-drunk4\n#| fig-cap: \"Association between Notice and Perceptual Load Condition\"\n\ndoor_plt4 <- ggplot(data = drunkdoor, aes(x=condition, fill=as_factor(notice))) +\n  geom_bar(position = \"dodge\") +\n  labs(fill = \"Noticed Swap (0 = No, 1 = Yes)\", x = \"Condition\")\ndoor_plt4\n\n```\n\nFrom @fig-drunk4, in the Low perceptual load condition, more participants noticed the swap than did not, whilst the opposite pattern emerged in the High perceptual group. \n\n:::\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(4)`\n\nFor the moment, lets just consider the association between notice and age. Visually following the line from the plot produced below, what do you think the predicted model value would be for someone who is aged 30? What does this value mean?\n\n```{r echo = FALSE, message = FALSE, warning = FALSE}\nggplot(drunkdoor, aes(x=age, y=notice))+\n  geom_point() +\n    xlim(30, 80) + \n    scale_y_continuous(breaks=seq(-.2,1.3,0.1)) + \n    geom_smooth(method=\"lm\",se=F,fullrange=T)\n```\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nHopefully you can see that the model predicted value for someone aged 30 is approximately 1.30. \n\nWhat does 1.30 really mean here? A 30 year old participant will notice 1.30 experimenter-swaps? They have a 130% probability of noticing the swap? That is maybe closer, but we can’t have such a probability - probability is between 0 and 1.\n\n`r solend()`\n\n<br>\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Model Fitting & Interpretation \n\n`r qbegin(5)`\n\nFit your model using `glm()`, and assign it as an object with the name \"changeblind_mdl\".   \n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\nchangeblind_mdl <- glm(notice ~ age_mc + bac100 + condition, data = drunkdoor, family = \"binomial\")\nsummary(changeblind_mdl)\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(6)`\n\nConduct a model comparison of your model above against the null model. Report the results of the model comparison in APA format.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nConsider whether or not your models are nested. The flowchart in [Semester 1 Week 4 Lab, Q10](https://uoepsy.github.io/dapr2/2324/labs/1_04_model_fit_comp.html) may be helpful to revisit. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#fit null model\nchangeblind_mdl_null <- glm(notice ~ 1, data = drunkdoor, family = \"binomial\")\n\n#run model comparison\nanova(changeblind_mdl_null, changeblind_mdl, test= \"Chisq\")\n```\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nAt the 5% significance level, the addition of information about the participants’ age, BAC, and perceptual load resulted in a significant decrease in model deviance $\\chi^2(3) = 65.07, p < .001$.\n\nHence, we have strong evidence that the participants' age, BAC, and perceptual load condition are helpful predictors of whether or not they were likely to notice a mid-conversation swap.\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(7)`\n\nInterpret your coefficients in the context of the study. When doing so, it may be useful to translate the log-odds back into odds.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nThe opposite of the natural logarithm is the exponential, and in `R` these functions are `log()` and `exp()`.\n\nRecall that we can obtain our parameter estimates using various functions such as `summary()`,`coef()`, `coefficients()`, etc. Thus, we want to exponentiate the coefficients from our model in order to translate them back from log-odds.\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\nexp(coefficients(changeblind_mdl))\n```\n\n::: {.panel-tabset}\n\n## `(Intercept)`   \n\n$\\beta_0$ = `(Intercept)` = `r round(exp(coef(changeblind_mdl))[1],2)`  \n\n+ The odds of noticing a mid-conversation person-switch for a sober person of average age, with Low perceptual load was `r round(exp(coef(changeblind_mdl))[1],2)`. \n\n## `age_mc`  \n\n$\\beta_1$ = `age_mc` = `r round(exp(coef(changeblind_mdl))[2],2)`  \n\n+ For every year older someone was, the odds of noticing a mid-conversation swap reduced by a factor of `r round(exp(coef(changeblind_mdl))[2],2)`, after accounting for differences in blood alcohol levels and perceptual load.\n    \n## `bac100`  \n\n$\\beta_2$ = `bac100` = `r round(exp(coef(changeblind_mdl))[3],2)`\n\n+ For every 1/100th of a percentage increase in BAC, the odds of noticing a mid-conversation person switch increased by a factor of `r round(exp(coef(changeblind_mdl))[3],2)`, after accounting for differences in age and perceptual load.\n    \n## `conditionHigh`  \n\n$\\beta_3$ = `conditionHigh` = `r round(exp(coef(changeblind_mdl))[4],2)`\n\n+ The odds of noticing the swap were significantly different depending upon the perceptual load. For those in the High perceptual condition, the odds of noticing a change decreased by a factor of `r round(exp(coef(changeblind_mdl))[4],2)` compared to when the condition was Low, after accounting for differences in age and BAC.\n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Visualise Model\n\n`r qbegin(8)`\n\nPlot the predicted model estimates. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nHere you will need to use `plot_model()` from the **sjPlot** package. To get your estimates, you will need to specify `type = \"est\"`. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n`plot_model()` with `type = \"est\"` gives a nice way of visualising the model odds ratios and confidence intervals: \n\n```{r}\n#| label: fig-notice-modest\n#| fig-cap: Model Estimates\nplot_model(changeblind_mdl,\n           type = \"est\")\n```\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Writing Up & Presenting Results\n\n`r qbegin(9)`\n\nProvide key model results in a formatted table.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nUse `tab_model()` from the **sjPlot** package. \n\nRemember that you can rename your DV and IV labels by specifying `dv.labels` and `pred.labels`.\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#| label: tbl-notice-modresults\n#| tbl-cap: Regression table for Notice model\n#create table for results\ntab_model(changeblind_mdl,\n          dv.labels = \"Notice\",\n          pred.labels = c(\"age_mc\" = \"Age (in years)\",\n                          \"bac100\" = \"Blood Alcohol Level (BAC)\",\n                          \"conditionHigh\" = \"Condition - High\"),\n          title = \"Regression table for Notice Model\")\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(10)`\n\nInterpret your results in the context of the research question and report your model in full.\n\nMake reference to the your regression table.\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\n\n```{r}\n#| include: false\nres <- exp(car::Confint(changeblind_mdl))\nres <- round(res,2)\n```\n\n\nWhether or not participants noticed the swap mid-conversation (binary 0 vs 1) was modeled using logistic regression, with blood alcohol content (BAC; measured in 100th of percentages blood content), perceptual load condition (low load vs high load, with low as the reference level), and age (in years). See @tbl-notice-modresults for full model results, and @fig-notice-modest for a visualisation of the model estimates and confidence intervals.\n\nAge was found to be associated with susceptibility to change-blindness, as indicated by decreased odds of noting the mid-conversation swap ($OR = `r res[2,1]`,\\,\\, 95\\%\\, CI\\, [`r paste(res[2,2:3],collapse=\", \")`]$), after accounting for differences in blood alcohol levels and perceptual load. \n\nIn contrary to what might have been expected, change-blindness appeared to decrease with higher alcohol intoxication, with the odds of noticing the swap increasing `r res[3,1]` times ($95\\%\\, CI\\,[`r paste(res[3,2:3],collapse=\", \")`]$) for every 1/100th of a percentage increase in blood alcohol content, holding age and perceptual load constant. \n\nAfter accounting for age and blood alcohol levels, the odds of noticing the swap were significantly different depending upon the perceptual load. For those with a high perceptual load, the odds of noticing a swap decreased by a factor of `r res[4,1]` ($95\\%\\, CI\\,[`r paste(res[4,2:3],collapse=\", \")`]$).\n\nIn summary, older age increased the susceptibility to change blindness, high perceptual load was found to decrease the odds of people being blind to change, and increased levels of alcohol intoxication appeared to be associated with greater odds of noticing change. \n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Compile Report\n\n`r qbegin(\"Compile Report\", qlabel = FALSE)`  \n\nKnit your report to PDF, and check over your work. To do so, you should make sure:\n\n- Only the output you want your reader to see is visible (e.g., do you want to hide your code?)\n- Check that the **tinytex** package is installed\n- Ensure that the ‘yaml’ (bit at the very top of your document) looks something like this:\n\n```{}\n---\ntitle: \"this is my report title\"\nauthor: \"B1234506\"\ndate: \"07/09/2024\"\noutput: bookdown::pdf_document2\n---\n```\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# What to do if you cannot knit to PDF\nIf you are having issues knitting directly to PDF, try the following:  \n\n- Knit to HTML file  \n- Open your HTML in a web-browser (e.g. Chrome, Firefox)  \n- Print to PDF (Ctrl+P, then choose to save to PDF)  \n- Open file to check formatting\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# Hiding Code and/or Output\n\n:::{.panel-tabset}\n## Hiding R Code\n\nTo not show the code of an R code chunk, and only show the output, write:\n\n````\n```{{r, echo=FALSE}}\n# code goes here\n```\n````\n\n## Hiding R Output\n\nTo show the code of an R code chunk, but hide the output, write:\n\n````\n```{{r, results='hide'}}\n# code goes here\n```\n````\n\n## Hiding R Code and Output\n\nTo hide both code and output of an R code chunk, write:\n\n````\n```{{r, include=FALSE}}\n# code goes here\n```\n````\n:::\n\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Tinytex\nYou must make sure you have **tinytex** installed in R so that you can “Knit” your Rmd document to a PDF file:\n\n```{r eval = FALSE}\ninstall.packages(\"tinytex\")\ntinytex::install_tinytex()\n```\n\n:::\n\n`r qend()`\n\n`r solbegin(show = params$SHOW_SOLS, toggle = params$TOGGLE)`\n\nYou should end up with a PDF file. If you have followed the above instructions and still have issues with knitting, speak with a Tutor. \n\n`r solend()`\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nsource('assets/setup.R')\n\nset.seed(953)\n\nlibrary(DT)\nlibrary(pander)\nlibrary(sjPlot)\nlibrary(tidyverse)\nlibrary(car)\n\n```\n\n:::lo\n\n### <i class=\"fa fa-graduation-cap\"></i> Learning Objectives\nAt the end of this lab, you will:\n\n1. Understand when to use a logistic model\n2. Understand how to fit and interpret a logistic model\n\n### <i class=\"fa fa-check-square-o fa-2\"></i> What You Need\n\n1. Be up to date with lectures\n\n### <i class=\"fab fa-r-project\"></i> Required R Packages\nRemember to load all packages within a code chunk at the start of your RMarkdown file using `library()`. If you do not have a package and need to install, do so within the console using `install.packages(\" \")`. For further guidance on installing/updating packages, see Section C [here](https://uoepsy.github.io/files/install-update-r#update-pkgs). \n\nFor this lab, you will need to load the following package(s):\n\n* **tidyverse** \n* **patchwork**\n* **kableExtra**\n* **psych**\n* **sjPlot**\n\n### <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> Presenting Results\nAll results should be presented following [APA guidelines](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf). If you need a reminder on how to hide code, format tables/plots, etc., make sure to review the [rmd bootcamp](https://uoepsy.github.io//rmd-bootcamp/).\n\nThe example write-up sections included as part of the solutions are **not perfect** - they instead should give you a good example of what information you should include and how to structure this. Note that you must **not** copy any of the write-ups included below for future reports - if you do, you will be committing plagiarism, and this type of academic misconduct is taken very seriously by the University. You can find out more [here](https://www.ed.ac.uk/academic-services/students/conduct/academic-misconduct).\n\n### <i class=\"fa fa-file\"></i> Lab Data\nYou can download the data required for this lab [here](https://uoepsy.github.io/data/drunkdoor.csv) or read it in via this link https://uoepsy.github.io/data/drunkdoor.csv. \n:::\n\n# Study Overview {#sec-studyview}\n\n> **Research Question** \n>\n> Is susceptibility to change blindness influenced by age, level of alcohol intoxication, and perceptual load?\n\n`r optbegin(\"Drunk Door Codebook\", olabel=FALSE, toggle=params$TOGGLE)` \n\n__Description__\n\nFor an example of a change blindness experiment, watch the following video:\n\n<p align=\"center\">\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/FWSxSQsspiQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe><br>\n\nOr review this paper: [Simons, D. J., & Levin, D. T. (1997). Change blindness. Trends in cognitive sciences, 1(7), 261-267.](https://www.cse.iitk.ac.in/users/se367/11/papers/simons-ambinder-05_change-blindness.pdf). You may well have already heard of these series of experiments, or have seen similar things on [Netflix](https://www.netflix.com/gb/title/80190510).\n\n__Method__\n\nResearchers conducted a study in which they approached 120 people, recruited from within the vicinity of a number of establishments with licenses to sell alcohol to be consumed on-premises. Initially, experimenter A approached participants and asked if they were interested in participating in a short study, and obtained their written consent. While experimenter A subsequently talked each participant through a set of questions on multiple pieces of paper (with the pretense of explaining what the participant was required to do), experimenters B and C carrying a door passed between the participant and experimenter A, with experimenter C replacing A (as can be viewed in the video). \n\nThe perceptual load of the experiment was manipulated via a) the presentation of the door and b) the papers held by the experimenters. For 60 of these participants, the door was painted with some detailed graffiti and had a variety of pieces of paper and notices attached to the side facing the participants. Additionally, for these participants, the experimenters handled a disorganised pile of 30 papers, with the top pages covered in drawings around the printed text. For the remaining 60, the door was a standard MDF construction painted a neutral grey, and the experimenters handled only 2 sheets of paper which had minimal printed text on them and nothing else. \n\n__Measures__\n\nAfter experimenters A and C had successfully swapped positions, the participant was asked (now by C) to complete small number of questions taking approximately 1 minute. Either after this set of questions, or if the participant made an indication that they had noticed the swap, the experimenters regrouped and the participant was explicitly asked whether they had noticed the swap.   \n\nImmediately after this, participants were breathalysed, and their blood alcohol content was recorded.  \n\n__Data Dictionary__\n\n```{r echo=FALSE, message=FALSE, warning=FALSE}\ndrunkdoor <- read_csv(\"https://uoepsy.github.io/data/drunkdoor.csv\")\ntibble(\nvariable = names(drunkdoor),\ndescription = c(\"Unique ID number\",\"Blood Alcohol Content (BAC) - A BAC of 0.0 is sober, while in the United States 0.08 is legally intoxicated, and above that is very impaired. BAC levels above 0.40 are potentially fatal.\", \"Age (in years)\",\"Condition - Perceptual load created by distracting oject (door) and details and amount of papers handled in front of participant (Low vs High)\", \"Whether or not the participant noticed the swap (Yes = 1 vs No = 0)\")\n) %>% gt::gt()\n```\n\n__Preview__\n\nThe first six rows of the data are:\n\n```{r echo=FALSE, message=FALSE}\nread_csv('https://uoepsy.github.io/data/drunkdoor.csv') %>% head %>% gt::gt()\n```\n\n`r optend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Setup\n\n`r qbegin(\"Setup\", qlabel = FALSE)`  \n\n1. Create a new RMarkdown file\n2. Load the required package(s)\n3. Read the drunkdoor dataset into `R`, assigning it to an object named `drunkdoor` \n \n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r message=FALSE}\n#load packages\nlibrary(tidyverse)\nlibrary(psych)\nlibrary(kableExtra)\nlibrary(patchwork)\nlibrary(sjPlot)\n\n#read in data\ndrunkdoor <- read_csv(\"https://uoepsy.github.io/data/drunkdoor.csv\")\n```\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Exercises \n\n## Study & Analysis Plan Overview \n\n`r qbegin(1)`\n\nFirstly, examine the dataset, and perform any necessary and appropriate data management steps. \n\nNext, think about the scales that the variables are currently on, with a particular focus on BAC, age, and condition. Consider:  \n\n+ Do you want BAC on the current scale, or could you transform it somehow? Consider that instead of the coefficient representing the difference when moving from 0% to 1% BAC (1% blood alcohol is fatal!), we might want to have the difference associated with 0% to 0.01% BAC (i.e, a we want to talk about effects in terms of changing 1/100th of a percentage of BAC)\n+ Do you want age to be centred at 0 years (as it currently is), or could you re-centre to make it more meaningful?\n+ In your data management, you will hopefully make condition a factor, but have you considered the reference level? It would likely make most sense for this to be set as \"Low\".\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nLet's examine the data: \n```{r}\n#look at structure of data\nstr(drunkdoor)\n\n#check for NAs - there are none - all FALSE\ntable(is.na(drunkdoor))\n```\n\nNext we need to specify Condition as a factor, and set 'Low' as the reference group:\n\n```{r}\n#re-assign categorical IVs as factors\ndrunkdoor$condition <- factor(drunkdoor$condition,\n                              levels = c(\"Low\", \"High\"))\n```\n\n```{r}\n#set 'low' as reference group\ndrunkdoor$condition <- fct_relevel(drunkdoor$condition, \"Low\")\n```\n\nIt may be more useful to have blood alcohol (BAC) in terms of 100ths of percentages, rather than percentages, for the reasons noted above. It would also be more useful for interpretation to have age centered on the mean (note that this won’t change anything other than the intercept in our model). Let's make both these changes:\n\n```{r}\ndrunkdoor <- drunkdoor %>% \n  mutate(\n    bac100 = bac*100,\n    age_mc = age - mean(age)\n  )\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(2)`\n\nProvide a brief overview of the study design and data, before detailing your analysis plan to address the research question.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\n- Give the reader some background on the context of the study\n- State what type of analysis you will conduct in order to address the research question\n- Specify the model to be fitted to address the research question \n- Specify your chosen significance ($\\alpha$) level\n- State your hypotheses\n\nMuch of the information required can be found in the [Study Overview] codebook.\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nThe `drunkdoor` dataset contained information on 120 hypothetical participants who were approached within the vicinity of a number of establishments with licenses to sell alcohol to be consumed on-premises. Using a between-subjects design experimental design, experimenters manipulated perceptual load in two ways (door appearance and number of papers held by experimenters) to create low- and high-load conditions. In the low-load condition, the door was a standard MDF construction painted in a neutral grey, and the experimenters handled only 2 sheets of paper which had minimal printed text. In the high-load condition, the door was painted with detailed graffiti and had numerous pieces of paper and notices attached to the side facing the participants, and the experimenters held a pile of 30 papers containing drawings and printed text. Experimenters recorded whether or not participants noticed the mid-conversation experimenter swap (no = 0, yes = 1). The researchers also collected information on participants' blood alcohol level (BAC; percentage of alcohol in an individual's blood stream) and age (in years).\n\nTo aid with interpretation, age was mean centered. The BAC measure was also transformed to represent a one-unit change as 0.01%, as opposed to 1%. Low-load was specified as the reference group of the perceptual load condition. \n\nDensity plots and bar plots will be used to individually visualise the associations between whether the mid-conversation swap was noticed and BAC, age, and condition. \n\nTo investigate whether the probability of noticing the swap differed as a function of age, BAC, and perceptual load, a binary logistic regression model was used, where the following model was specified: \n\n$$\n\\begin{aligned}\n\\ln \\left(\\frac{p}{1 - p}\\right) ~=~ \\beta_0 + \\beta_1 \\cdot Age + \\beta_2 \\cdot BAC + \\beta_3 \\cdot Condition_{High} \n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n\\text{where}~{p}~ &=~ \\text{probability of noticing the mid-conversation swap}\n\\end{aligned}\n$$\n\nOur hypotheses are:\n\n$H_0:$ All $\\beta_j = 0$ (for $j = 1, 2, 3$)\n\nSusceptibility to change blindness is not influenced by age, level of alcohol intoxication, or perceptual load.\n\n$H_1:$ At least one $\\beta_j \\neq  0$ (for $j = 1, 2, 3$)\n\nSusceptibility to change blindness is influenced by age, level of alcohol intoxication, and/or perceptual load.\n\nEffects will be considered statistically significant at $\\alpha = .05$.\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Descriptive Statistics & Visualisations\n\n`r qbegin(3)`\n\nProvide a table of descriptive statistics and visualise your data. \n \nRemember to interpret these in the context of the study.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\n1. For your table of descriptive statistics, both the `group_by()` and `summarise()` functions will come in handy here\n2. For your visualisations, you will need to specify `as_factor()` when plotting the notice variable since this is numeric, but we want it to be treated as a factor **only** for plotting purposes\n3. Make sure to comment on your observations\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n::: {.panel-tabset}\n\n## Numeric\n\nLet's first produce a descriptive statistics table, grouped by whether or not participants noticed the swap, and what perceptual load condition they were assigned to:\n\n```{r message=FALSE, warning=FALSE}\n#| label: tbl-cog-descript\n#| tbl-cap: Descriptive Statistics\ndoor_stats <- drunkdoor %>% \n    group_by(notice, condition) %>%\n    summarise(\n        Avg_Age = mean(age), \n        SD_Age = sd(age),\n        SE_Age = sd(age) / sqrt(n()),\n        Min_Age = min(age),\n        Max_Age = max(age),        \n        Avg_BAC = mean(bac), \n        SD_BAC = sd(bac),\n        SE_BAC = sd(bac) / sqrt(n()),\n        Min_BAC = min(bac),\n        Max_BAC = max(bac)) %>%\n    kable(caption = \"Descriptive Statistics\", digits = 2) %>%\n    kable_styling()\n\ndoor_stats\n```\n\n## Visual\n\n::: {.panel-tabset}\n\n### Notice\n```{r}\n#| label: fig-drunk1\n#| fig-cap: \"Counts of Notice\"\n\ndoor_plt1 <- ggplot(data = drunkdoor, aes(x=as_factor(notice), fill=as_factor(notice))) +\n  geom_bar() +\n  labs(x = \"Noticed Swap (0 = No, 1 = Yes)\", fill = \"Noticed Swap (0 = No, 1 = Yes)\", y = \"Frequency\")\ndoor_plt1\n\n```\n\nFrom @fig-drunk1, we can see that there are slightly more individuals that noticed the mid-conversation swap than those who did not.\n\n### Notice & Age\n```{r}\n#| label: fig-drunk2\n#| fig-cap: \"Association between Notice and Age\"\n\ndoor_plt2 <- ggplot(data = drunkdoor, aes(x=age, fill=as_factor(notice))) +\n  geom_density() +\n  labs(x = \"Age (in years)\", fill = \"Noticed Swap (0 = No, 1 = Yes)\")\ndoor_plt2 \n\n```\n\nFrom @fig-drunk2, we can see that there appear to be more older adults who did not notice the mid-conversation swap.\n\n### Notice & BAC\n```{r}\n#| label: fig-drunk3\n#| fig-cap: \"Association between Notice and BAC\"\n\ndoor_plt3 <- ggplot(data = drunkdoor, aes(x=bac, fill=as_factor(notice))) +\n  geom_density() +\n  labs(x = \"BAC\", fill = \"Noticed Swap (0 = No, 1 = Yes)\")\ndoor_plt3\n\n```\n\nFrom @fig-drunk3, we can see that higher BAC appears to be positively associated with noticing a mid-conversation swap.\n\n### Notice & Task\n```{r}\n#| label: fig-drunk4\n#| fig-cap: \"Association between Notice and Perceptual Load Condition\"\n\ndoor_plt4 <- ggplot(data = drunkdoor, aes(x=condition, fill=as_factor(notice))) +\n  geom_bar(position = \"dodge\") +\n  labs(fill = \"Noticed Swap (0 = No, 1 = Yes)\", x = \"Condition\")\ndoor_plt4\n\n```\n\nFrom @fig-drunk4, in the Low perceptual load condition, more participants noticed the swap than did not, whilst the opposite pattern emerged in the High perceptual group. \n\n:::\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(4)`\n\nFor the moment, lets just consider the association between notice and age. Visually following the line from the plot produced below, what do you think the predicted model value would be for someone who is aged 30? What does this value mean?\n\n```{r echo = FALSE, message = FALSE, warning = FALSE}\nggplot(drunkdoor, aes(x=age, y=notice))+\n  geom_point() +\n    xlim(30, 80) + \n    scale_y_continuous(breaks=seq(-.2,1.3,0.1)) + \n    geom_smooth(method=\"lm\",se=F,fullrange=T)\n```\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nHopefully you can see that the model predicted value for someone aged 30 is approximately 1.30. \n\nWhat does 1.30 really mean here? A 30 year old participant will notice 1.30 experimenter-swaps? They have a 130% probability of noticing the swap? That is maybe closer, but we can’t have such a probability - probability is between 0 and 1.\n\n`r solend()`\n\n<br>\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Model Fitting & Interpretation \n\n`r qbegin(5)`\n\nFit your model using `glm()`, and assign it as an object with the name \"changeblind_mdl\".   \n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\nchangeblind_mdl <- glm(notice ~ age_mc + bac100 + condition, data = drunkdoor, family = \"binomial\")\nsummary(changeblind_mdl)\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(6)`\n\nConduct a model comparison of your model above against the null model. Report the results of the model comparison in APA format.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nConsider whether or not your models are nested. The flowchart in [Semester 1 Week 4 Lab, Q10](https://uoepsy.github.io/dapr2/2324/labs/1_04_model_fit_comp.html) may be helpful to revisit. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#fit null model\nchangeblind_mdl_null <- glm(notice ~ 1, data = drunkdoor, family = \"binomial\")\n\n#run model comparison\nanova(changeblind_mdl_null, changeblind_mdl, test= \"Chisq\")\n```\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nAt the 5% significance level, the addition of information about the participants’ age, BAC, and perceptual load resulted in a significant decrease in model deviance $\\chi^2(3) = 65.07, p < .001$.\n\nHence, we have strong evidence that the participants' age, BAC, and perceptual load condition are helpful predictors of whether or not they were likely to notice a mid-conversation swap.\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(7)`\n\nInterpret your coefficients in the context of the study. When doing so, it may be useful to translate the log-odds back into odds.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nThe opposite of the natural logarithm is the exponential, and in `R` these functions are `log()` and `exp()`.\n\nRecall that we can obtain our parameter estimates using various functions such as `summary()`,`coef()`, `coefficients()`, etc. Thus, we want to exponentiate the coefficients from our model in order to translate them back from log-odds.\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\nexp(coefficients(changeblind_mdl))\n```\n\n::: {.panel-tabset}\n\n## `(Intercept)`   \n\n$\\beta_0$ = `(Intercept)` = `r round(exp(coef(changeblind_mdl))[1],2)`  \n\n+ The odds of noticing a mid-conversation person-switch for a sober person of average age, with Low perceptual load was `r round(exp(coef(changeblind_mdl))[1],2)`. \n\n## `age_mc`  \n\n$\\beta_1$ = `age_mc` = `r round(exp(coef(changeblind_mdl))[2],2)`  \n\n+ For every year older someone was, the odds of noticing a mid-conversation swap reduced by a factor of `r round(exp(coef(changeblind_mdl))[2],2)`, after accounting for differences in blood alcohol levels and perceptual load.\n    \n## `bac100`  \n\n$\\beta_2$ = `bac100` = `r round(exp(coef(changeblind_mdl))[3],2)`\n\n+ For every 1/100th of a percentage increase in BAC, the odds of noticing a mid-conversation person switch increased by a factor of `r round(exp(coef(changeblind_mdl))[3],2)`, after accounting for differences in age and perceptual load.\n    \n## `conditionHigh`  \n\n$\\beta_3$ = `conditionHigh` = `r round(exp(coef(changeblind_mdl))[4],2)`\n\n+ The odds of noticing the swap were significantly different depending upon the perceptual load. For those in the High perceptual condition, the odds of noticing a change decreased by a factor of `r round(exp(coef(changeblind_mdl))[4],2)` compared to when the condition was Low, after accounting for differences in age and BAC.\n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Visualise Model\n\n`r qbegin(8)`\n\nPlot the predicted model estimates. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nHere you will need to use `plot_model()` from the **sjPlot** package. To get your estimates, you will need to specify `type = \"est\"`. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n`plot_model()` with `type = \"est\"` gives a nice way of visualising the model odds ratios and confidence intervals: \n\n```{r}\n#| label: fig-notice-modest\n#| fig-cap: Model Estimates\nplot_model(changeblind_mdl,\n           type = \"est\")\n```\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Writing Up & Presenting Results\n\n`r qbegin(9)`\n\nProvide key model results in a formatted table.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nUse `tab_model()` from the **sjPlot** package. \n\nRemember that you can rename your DV and IV labels by specifying `dv.labels` and `pred.labels`.\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#| label: tbl-notice-modresults\n#| tbl-cap: Regression table for Notice model\n#create table for results\ntab_model(changeblind_mdl,\n          dv.labels = \"Notice\",\n          pred.labels = c(\"age_mc\" = \"Age (in years)\",\n                          \"bac100\" = \"Blood Alcohol Level (BAC)\",\n                          \"conditionHigh\" = \"Condition - High\"),\n          title = \"Regression table for Notice Model\")\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(10)`\n\nInterpret your results in the context of the research question and report your model in full.\n\nMake reference to the your regression table.\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\n\n```{r}\n#| include: false\nres <- exp(car::Confint(changeblind_mdl))\nres <- round(res,2)\n```\n\n\nWhether or not participants noticed the swap mid-conversation (binary 0 vs 1) was modeled using logistic regression, with blood alcohol content (BAC; measured in 100th of percentages blood content), perceptual load condition (low load vs high load, with low as the reference level), and age (in years). See @tbl-notice-modresults for full model results, and @fig-notice-modest for a visualisation of the model estimates and confidence intervals.\n\nAge was found to be associated with susceptibility to change-blindness, as indicated by decreased odds of noting the mid-conversation swap ($OR = `r res[2,1]`,\\,\\, 95\\%\\, CI\\, [`r paste(res[2,2:3],collapse=\", \")`]$), after accounting for differences in blood alcohol levels and perceptual load. \n\nIn contrary to what might have been expected, change-blindness appeared to decrease with higher alcohol intoxication, with the odds of noticing the swap increasing `r res[3,1]` times ($95\\%\\, CI\\,[`r paste(res[3,2:3],collapse=\", \")`]$) for every 1/100th of a percentage increase in blood alcohol content, holding age and perceptual load constant. \n\nAfter accounting for age and blood alcohol levels, the odds of noticing the swap were significantly different depending upon the perceptual load. For those with a high perceptual load, the odds of noticing a swap decreased by a factor of `r res[4,1]` ($95\\%\\, CI\\,[`r paste(res[4,2:3],collapse=\", \")`]$).\n\nIn summary, older age increased the susceptibility to change blindness, high perceptual load was found to decrease the odds of people being blind to change, and increased levels of alcohol intoxication appeared to be associated with greater odds of noticing change. \n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Compile Report\n\n`r qbegin(\"Compile Report\", qlabel = FALSE)`  \n\nKnit your report to PDF, and check over your work. To do so, you should make sure:\n\n- Only the output you want your reader to see is visible (e.g., do you want to hide your code?)\n- Check that the **tinytex** package is installed\n- Ensure that the ‘yaml’ (bit at the very top of your document) looks something like this:\n\n```{}\n---\ntitle: \"this is my report title\"\nauthor: \"B1234506\"\ndate: \"07/09/2024\"\noutput: bookdown::pdf_document2\n---\n```\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# What to do if you cannot knit to PDF\nIf you are having issues knitting directly to PDF, try the following:  \n\n- Knit to HTML file  \n- Open your HTML in a web-browser (e.g. Chrome, Firefox)  \n- Print to PDF (Ctrl+P, then choose to save to PDF)  \n- Open file to check formatting\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# Hiding Code and/or Output\n\n:::{.panel-tabset}\n## Hiding R Code\n\nTo not show the code of an R code chunk, and only show the output, write:\n\n````\n```{{r, echo=FALSE}}\n# code goes here\n```\n````\n\n## Hiding R Output\n\nTo show the code of an R code chunk, but hide the output, write:\n\n````\n```{{r, results='hide'}}\n# code goes here\n```\n````\n\n## Hiding R Code and Output\n\nTo hide both code and output of an R code chunk, write:\n\n````\n```{{r, include=FALSE}}\n# code goes here\n```\n````\n:::\n\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Tinytex\nYou must make sure you have **tinytex** installed in R so that you can “Knit” your Rmd document to a PDF file:\n\n```{r eval = FALSE}\ninstall.packages(\"tinytex\")\ntinytex::install_tinytex()\n```\n\n:::\n\n`r qend()`\n\n`r solbegin(show = params$SHOW_SOLS, toggle = params$TOGGLE)`\n\nYou should end up with a PDF file. If you have followed the above instructions and still have issues with knitting, speak with a Tutor. \n\n`r solend()`\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":true,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"include-in-header":["assets/toggling.html"],"number-sections":false,"output-file":"2_06_glm1.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.340","bibliography":["biblio.bib"],"toc_float":true,"code-annotations":"hover","link-citations":true,"theme":["united","assets/style-labs.scss"],"code-copy":false,"title":"Binary Logistic Regression","params":{"SHOW_SOLS":true,"TOGGLE":true},"editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}