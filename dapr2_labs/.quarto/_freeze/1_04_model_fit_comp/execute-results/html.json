{
  "hash": "cde92181ff099f8d27331cf928ba18c7",
  "result": {
    "markdown": "---\ntitle: \"Model Fit and Comparison\"\nlink-citations: TRUE\nparams: \n    SHOW_SOLS: TRUE\n    TOGGLE: TRUE\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n:::lo\n### <i class=\"fa fa-graduation-cap\"></i> Learning Objectives\nAt the end of this lab, you will:\n\n1. Understand how to calculate the interpret $R^2$ and adjusted-$R^2$ as a measure of model quality.\n1. Understand the calculation and interpretation of the $F$-test of model utility.\n1. Understand how to standardize model coefficients and when this is appropriate to do.\n\n### <i class=\"fa fa-check-square-o fa-2\"></i> What You Need\n\n1. Be up to date with lectures\n2. Have completed previous lab exercises from [Week 1](https://uoepsy.github.io/dapr2/2223/labs/1_01_function.html), [Week 2](https://uoepsy.github.io/dapr2/2223/labs/1_02_slr.html), and [Week 3](https://uoepsy.github.io/dapr2/2223/labs/1_03_mlr.html)\n\n### <i class=\"fab fa-r-project\"></i> Required R Packages\nRemember to load all packages within a code chunk at the start of your RMarkdown file using `library()`. If you do not have a package and need to install, do so within the console using `install.packages(\" \")`. For further guidance on installing/updating packages, see Section C [here](https://uoepsy.github.io/files/install-update-r#update-pkgs). \n\nFor this lab, you will need to load the following package(s):\n\n* **tidyverse**\n* **patchwork**\n* **sjPlot**\n\n### <i class=\"fa fa-file\"></i> Lab Data\nYou can download the data required for this lab [here](https://uoepsy.github.io/data/wellbeing.csv) or read it in via this link https://uoepsy.github.io/data/wellbeing.csv. \n\n**Note**:  this is the same data as Lab 3.\n\n:::\n\n# Study Overview \n\n> **Research Question** \n>\n> Is there an association between well-being and time spent outdoors *after* taking into account the association between well-being and social interactions? \n\n\n\n<div class=\"optional-begin\"><span id='opt-start-1' class=\"fa-solid fa-circle-right optional-icon clickable\" onclick=\"toggle_visibility('opt-body-1', 'opt-start-1')\"> <span class=\"olab\">Wellbeing data codebook.</span></span></div><div class=\"optional-body\" id = \"opt-body-1\" style=\"display: none;\">\n\n  \n\n__Description__\n\nResearchers interviewed 32 participants, selected at random from the population of residents of Edinburgh & Lothians. They used the Warwick-Edinburgh Mental Wellbeing Scale (WEMWBS), a self-report measure of mental health and well-being. The scale is scored by summing responses to each item, with items answered on a 1 to 5 Likert scale. The minimum scale score is 14 and the maximum is 70.  \n\nThe researchers also asked participants to estimate the average number of hours they spend outdoors each week, the average number of social interactions they have each week (whether on-line or in-person), and whether they believe that they stick to a routine throughout the week (Yes/No).  \n\nThe data in `wellbeing.csv` contain five attributes collected from a random sample of $n=32$ hypothetical residents over Edinburgh & Lothians, and include:\n\n- `wellbeing`: Warwick-Edinburgh Mental Wellbeing Scale (WEMWBS), a self-report measure of mental health and well-being. The scale is scored by summing responses to each item, with items answered on a 1 to 5 Likert scale. The minimum scale score is 14 and the maximum is 70.  \n- `outdoor_time`: Self report estimated number of hours per week spent outdoors  \n- `social_int`: Self report estimated number of social interactions per week (both online and in-person)\n- `routine`: Binary Yes/No response to the question \"Do you follow a daily routine throughout the week?\"\n- `location`: Location of primary residence (City, Suburb, Rural)\n\n__Preview__\n\nThe first six rows of the data are:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div id=\"ydgabwknrs\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ydgabwknrs table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ydgabwknrs thead, #ydgabwknrs tbody, #ydgabwknrs tfoot, #ydgabwknrs tr, #ydgabwknrs td, #ydgabwknrs th {\n  border-style: none;\n}\n\n#ydgabwknrs p {\n  margin: 0;\n  padding: 0;\n}\n\n#ydgabwknrs .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ydgabwknrs .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ydgabwknrs .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ydgabwknrs .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ydgabwknrs .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ydgabwknrs .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ydgabwknrs .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ydgabwknrs .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ydgabwknrs .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ydgabwknrs .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ydgabwknrs .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ydgabwknrs .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ydgabwknrs .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ydgabwknrs .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ydgabwknrs .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ydgabwknrs .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ydgabwknrs .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ydgabwknrs .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ydgabwknrs .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ydgabwknrs .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_left {\n  text-align: left;\n}\n\n#ydgabwknrs .gt_center {\n  text-align: center;\n}\n\n#ydgabwknrs .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ydgabwknrs .gt_font_normal {\n  font-weight: normal;\n}\n\n#ydgabwknrs .gt_font_bold {\n  font-weight: bold;\n}\n\n#ydgabwknrs .gt_font_italic {\n  font-style: italic;\n}\n\n#ydgabwknrs .gt_super {\n  font-size: 65%;\n}\n\n#ydgabwknrs .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ydgabwknrs .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ydgabwknrs .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ydgabwknrs .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ydgabwknrs .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ydgabwknrs .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ydgabwknrs .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"wellbeing\">wellbeing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"outdoor_time\">outdoor_time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"social_int\">social_int</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"location\">location</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"routine\">routine</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"wellbeing\" class=\"gt_row gt_right\">30</td>\n<td headers=\"outdoor_time\" class=\"gt_row gt_right\">7</td>\n<td headers=\"social_int\" class=\"gt_row gt_right\">8</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Suburb</td>\n<td headers=\"routine\" class=\"gt_row gt_left\">Routine</td></tr>\n    <tr><td headers=\"wellbeing\" class=\"gt_row gt_right\">21</td>\n<td headers=\"outdoor_time\" class=\"gt_row gt_right\">9</td>\n<td headers=\"social_int\" class=\"gt_row gt_right\">8</td>\n<td headers=\"location\" class=\"gt_row gt_left\">City</td>\n<td headers=\"routine\" class=\"gt_row gt_left\">No Routine</td></tr>\n    <tr><td headers=\"wellbeing\" class=\"gt_row gt_right\">38</td>\n<td headers=\"outdoor_time\" class=\"gt_row gt_right\">14</td>\n<td headers=\"social_int\" class=\"gt_row gt_right\">10</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Suburb</td>\n<td headers=\"routine\" class=\"gt_row gt_left\">Routine</td></tr>\n    <tr><td headers=\"wellbeing\" class=\"gt_row gt_right\">27</td>\n<td headers=\"outdoor_time\" class=\"gt_row gt_right\">16</td>\n<td headers=\"social_int\" class=\"gt_row gt_right\">10</td>\n<td headers=\"location\" class=\"gt_row gt_left\">City</td>\n<td headers=\"routine\" class=\"gt_row gt_left\">No Routine</td></tr>\n    <tr><td headers=\"wellbeing\" class=\"gt_row gt_right\">20</td>\n<td headers=\"outdoor_time\" class=\"gt_row gt_right\">1</td>\n<td headers=\"social_int\" class=\"gt_row gt_right\">10</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Rural</td>\n<td headers=\"routine\" class=\"gt_row gt_left\">No Routine</td></tr>\n    <tr><td headers=\"wellbeing\" class=\"gt_row gt_right\">37</td>\n<td headers=\"outdoor_time\" class=\"gt_row gt_right\">11</td>\n<td headers=\"social_int\" class=\"gt_row gt_right\">12</td>\n<td headers=\"location\" class=\"gt_row gt_left\">Suburb</td>\n<td headers=\"routine\" class=\"gt_row gt_left\">No Routine</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n  \n\n\n</div><p class=\"optional-end\"></p>\n\n\n\n\n# Setup\n\n\n<div class='question-begin'>Setup</div><div class='question-body'>\n\n  \n\n1. Create a new RMarkdown file\n2. Load the required package(s)\n3. Read the wellbeing dataset into R, assigning it to an object named `mwdata`\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-2' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-2', 'sol-start-2')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-2\" style=\"display: none;\">\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Loading the required package(s)\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(sjPlot)\n\n# Reading in data and storing to an object named 'mwdata'\nmwdata <- read_csv(\"https://uoepsy.github.io/data/wellbeing.csv\")\n```\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n# Exercises\n\n\n\n<div class='question-begin'>Question 1</div><div class='question-body'>\n\n\nSpecify and fit a linear model to investigate how wellbeing (WEMWBS scores) are associated with time spent outdoors *after* controlling for the number of social interactions. \n\nNext, check the `summary()` output from the model.\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-3' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-3', 'sol-start-3')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-3\" style=\"display: none;\">\n\n\n\nThe model is:\n$$\n\\widehat{Wellbeing} = \\hat \\beta_0 + \\hat \\beta_1 \\cdot Social Interactions + \\hat \\beta_2 \\cdot Outdoor Time \n$$\nIn `R`:\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#fit model\nmdl1 <- lm(wellbeing ~ social_int + outdoor_time, data = mwdata)\n\n#look at summary output from model\nsummary(mdl1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + outdoor_time, data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.742 -4.915 -1.255  5.628 10.936 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)    5.3704     4.3205   1.243   0.2238    \nsocial_int     1.8034     0.2691   6.702 2.37e-07 ***\noutdoor_time   0.5924     0.1689   3.506   0.0015 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.148 on 29 degrees of freedom\nMultiple R-squared:  0.7404,\tAdjusted R-squared:  0.7224 \nF-statistic: 41.34 on 2 and 29 DF,  p-value: 3.226e-09\n```\n:::\n:::\n\n\nFormally state:\n\n+ your chosen significance level \n+ the null and alternative hypotheses\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-4' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-4', 'sol-start-4')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-4\" style=\"display: none;\">\n\n\n\nEffects will be considered statistically significant at $\\alpha=.05$\n\n$H_0: \\beta_2 = 0$\n\nThere is no association between well-being and time spent outdoors after taking into account the relationship between well-being and social interactions\n\n$H_1: \\beta_2 \\neq 0$\n\nThere is an association between well-being and time spent outdoors after taking into account the relationship between well-being and social interactions\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n## Lab Purpose\n\nIn this lab (Lab 4), you will focus on the statistics contained within the highlighted sections of the `summary()` output below. You will be both calculating these by hand and deriving via `R` code before interpreting these values in the context of the research question following [APA guidelines](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf).\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 2</div><div class='question-body'>\n\n\nWhat is the proportion of the total variability in wellbeing scores explained by the model?\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nThe question asks to compute the value of $R^2$. Since the model includes 2 predictors, you should report the Adjusted $R^2$.\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-5' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-5', 'sol-start-5')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-5\" style=\"display: none;\">\n\n\nThe proportion of the total variability explained is given by R-squared.\n\nThe R-squared coefficient is defined as:\n$$\nR^2 = \\frac{SS_{Model}}{SS_{Total}} = 1 - \\frac{SS_{Residual}}{SS_{Total}}\n$$\nThe Adjusted R-squared coefficient is defined as:\n\n$$\n\\hat R^2 = 1 - \\frac{(1 - R^2)(n-1)}{n-k-1}\n\\quad \\\\\n\\begin{align}\n& \\text{Where:} \\\\\n& n = \\text{sample size} \\\\\n& k = \\text{number of explanatory variables} \\\\\n\\end{align}\n$$\n::: {.panel-tabset}\n\n## Manually\n\nIn `R` we can write:\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#R squared & adjusted R squared\n\nwellbeing_fitted <- mwdata %>%\n  mutate(\n    wellbeing_hat = predict(mdl1),\n    resid = wellbeing - wellbeing_hat\n  )\n\n\nwellbeing_fitted %>%\n  summarise(\n    SSModel = sum( (wellbeing_hat - mean(wellbeing))^2 ),\n    SSTotal = sum( (wellbeing - mean(wellbeing))^2 )\n  ) %>%\n  summarise(\n    RSquared = SSModel / SSTotal,\n    AdjRSquared = 1-((1-(RSquared))*(32-1)/(32-2-1))\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  RSquared AdjRSquared\n     <dbl>       <dbl>\n1    0.740       0.722\n```\n:::\n:::\n\n\n## R function\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#look in second bottom row - Multiple R Squared and Adjusted R Squared both reported here\nsummary(mdl1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + outdoor_time, data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.742 -4.915 -1.255  5.628 10.936 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)    5.3704     4.3205   1.243   0.2238    \nsocial_int     1.8034     0.2691   6.702 2.37e-07 ***\noutdoor_time   0.5924     0.1689   3.506   0.0015 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.148 on 29 degrees of freedom\nMultiple R-squared:  0.7404,\tAdjusted R-squared:  0.7224 \nF-statistic: 41.34 on 2 and 29 DF,  p-value: 3.226e-09\n```\n:::\n:::\n\n\nThe output of `summary()` displays the Adjusted $R$-squared value in the following line:\n\n```\nAdjusted R-squared:  0.7224 \n```\n\n:::\n\n---\n\n**Interpretation**\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nApproximately 72\\% of the total variability in wellbeing scores is explained by associations with social interactions and outdoor time.\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 3</div><div class='question-body'>\n\n\nPerform a model utility test at the 5\\% significance level and report your results. \n\nIn other words, conduct an $F$-test against the null hypothesis that the model is ineffective at predicting wellbeing scores using social interactions and outdoor time by computing the $F$-statistic using its definition.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nThe F-ratio is used to test the null hypothesis that all regression slopes are zero.  \nIt is called the F-ratio because it is the ratio of the how much of the variation is explained by the model (per paramater) versus how much of the variation is left unexplained in the residuals (per remaining degrees of freedom). \n\n$$\nF_{df_{model},df_{residual}} = \\frac{MS_{Model}}{MS_{Residual}} = \\frac{SS_{Model}/df_{Model}}{SS_{Residual}/df_{Residual}} \\\\\n\\quad \\\\\n\\begin{align}\n& \\text{Where:} \\\\\n& df_{model} = k \\\\\n& df_{residual} = n-k-1 \\\\\n& n = \\text{sample size} \\\\\n& k  = \\text{number of explanatory variables} \\\\\n\\end{align}\n$$\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-6' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-6', 'sol-start-6')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-6\" style=\"display: none;\">\n\n\n\n::: {.panel-tabset}\n\n## Manually\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndf1 <- 2\ndf2 <- nrow(mwdata) - 2 - 1\nf_star <- qf(0.95, df1, df2)\nf_star\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.327654\n```\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_utility <- wellbeing_fitted %>%\n  summarise(\n    SSModel = sum((wellbeing_hat - mean(wellbeing))^2 ),\n    SSResid = sum( resid^2 ),\n    MSModel = SSModel / df1,\n    MSResid = SSResid / df2,\n    FObs = MSModel / MSResid\n  )\nmodel_utility\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 5\n  SSModel SSResid MSModel MSResid  FObs\n    <dbl>   <dbl>   <dbl>   <dbl> <dbl>\n1   3126.   1096.   1563.    37.8  41.3\n```\n:::\n:::\n\nWe can also compute the p-value:\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\npvalue <- 1 - pf(model_utility$FObs, df1, df2)\npvalue\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.225548e-09\n```\n:::\n:::\n\nThe value `3.225548e-09` simply means $3.2 \\times 10^{-9}$, so it's a really small number.\n\n## R function\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#look in bottom row\nsummary(mdl1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + outdoor_time, data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.742 -4.915 -1.255  5.628 10.936 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)    5.3704     4.3205   1.243   0.2238    \nsocial_int     1.8034     0.2691   6.702 2.37e-07 ***\noutdoor_time   0.5924     0.1689   3.506   0.0015 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.148 on 29 degrees of freedom\nMultiple R-squared:  0.7404,\tAdjusted R-squared:  0.7224 \nF-statistic: 41.34 on 2 and 29 DF,  p-value: 3.226e-09\n```\n:::\n:::\n\nThe relevant row is the following:\n\n```\n\nF-statistic: 41.34 on 2 and 29 DF,  p-value: 3.226e-09\n\n```\n\n:::\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nWe performed an $F$-test of model utility at the 5\\% significance level, where $F(2,29) = 41.34, p <.001$.\n\nThe large $F$-statistic and small $p$-value ($<.001$) suggested that we have very strong evidence against the null hypothesis that the model is ineffective.\n\nIn other words, the data provide strong evidence that the number of social interactions and outdoor time are effective predictors of wellbeing scores.\n\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 4</div><div class='question-body'>\n\n\nProduce a visualisation of the association between wellbeing and outdoor time, after accounting for social interactions.  \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\nTo visualise just one association, you might need to specify the `terms` argument in `plot_model()`. Don't forget you can look up the documentation by typing `?plot_model` in the console. \n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-7' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-7', 'sol-start-7')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-7\" style=\"display: none;\">\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nplot_model(mdl1, type = \"eff\",\n           terms = c(\"outdoor_time\"), \n           show.data = TRUE)\n```\n\n::: {.cell-output-display}\n![](1_04_model_fit_comp_files/figure-html/unnamed-chunk-11-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 5</div><div class='question-body'>\n\n\n\nInterpret the standardized variables presented in the above table.\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-8' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-8', 'sol-start-8')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-8\" style=\"display: none;\">\n\n\n\n- For every standard deviation increase in social interactions, wellbeing scores increased on average by 0.67 standard deviations.\n- For every standard deviation increase in outdoor time, wellbeing scores increased on average by 0.35 standard deviations.\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 9</div><div class='question-body'>\n\n\n\nCompare the two following models, each looking at the associations of Wellbeing scores and two different predictor variables. \n\n$\\text{Wellbeing} = \\beta_0 + \\beta_1 \\cdot \\text{Social Interactions} + \\beta_2 \\cdot \\text{Age} + \\epsilon$  \n\n$\\text{Wellbeing} = \\beta_0 + \\beta_1 \\cdot \\text{Outdoor Time} + \\beta_2 \\cdot \\text{Routine} + \\epsilon$ \n\nIn [APA format](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf), report which model you think best fits the data. \n\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nCompare using `AIC()` and `BIC()` since the models are non-nested.\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-9' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-9', 'sol-start-9')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-9\" style=\"display: none;\">\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#fit models\nwb_socint_age <- lm(wellbeing ~ social_int + age, data = mwdata)\nwb_outdoor_routine <- lm(wellbeing ~ outdoor_time + routine, data = mwdata)\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#AIC values\nAIC(wb_socint_age, wb_outdoor_routine)\n\n#BIC values\nBIC(wb_socint_age, wb_outdoor_routine)\n```\n:::\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nWe used AIC and BIC model selection to distinguish between two possible models describing the association between several personal factors and wellbeing scores. The model with  outdoor time and routine included as predictors was better fitting (AIC = 1220.91) the alternative model with  weekly number of social interactions and age (AIC = 1236.58). Based on the BIC value of the former model (BIC = 1234.11) we concluded that it was substantively better fitting than the alternative, latter model (BIC = 1249.77). \n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 10</div><div class='question-body'>\n\n\n\nThe code below fits 5 different models based on our `wrdata`:\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel1 <- lm(wellbeing ~ social_int + outdoor_time, data = mwdata)\nmodel2 <- lm(wellbeing ~ social_int + outdoor_time + age, data = mwdata)\nmodel3 <- lm(wellbeing ~ social_int + outdoor_time + routine, data = mwdata)\nmodel4 <- lm(wellbeing ~ social_int + outdoor_time + routine + age, data = mwdata)\nmodel5 <- lm(wellbeing ~ social_int + outdoor_time + routine + steps_k, data = mwdata)\n```\n:::\n\nFor each of the below pairs of models, what methods are/are not available for us to use for comparison and why?  \n\n+ `model1` vs `model2`\n+ `model2` vs `model3`\n+ `model1` vs `model4`\n+ `model3` vs `model5`\n\nThis flowchart might help you to reach your decision:\n\n::: {.cell layout-align=\"left\"}\n\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nYou may need to examine the dataset, and check for accuracy (e.g., are there any impossible / out of range values?) and completeness (e.g., are there any missing values?). \n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-10' class=\"fa-solid fa-circle-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-10', 'sol-start-10')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-10\" style=\"display: none;\">\n\n\n\n+ `model1` vs `model2`  \n  These models are nested - `model2` contains all the variables of `model1` and they are fitted on the same dataset.  \n  We can therefore use an $F$-test or AIC and BIC.  \n    \n+ `model2` vs `model3`  \n  These models are __not__ nested, but they are fitted on the same dataset.  \n  We can therefore use AIC or BIC, but we cannot use an $F$-test.  \n    \n+ `model1` vs `model4`\n  These models are nested - `model4` contains all the variables of `model1` and they are fitted on the same dataset.  \n  We can therefore use an $F$-test or AIC and BIC.  \n    \n+ `model3` vs `model5`  \n  These models are __not__ nested, and they are __not__ fitted on the same dataset. The \"steps_k\" variable contains missing values (over 30% of the data is missing for this variable), and so these whole rows are excluded from `model5` (but they are included in `model3`). We cannot compare these models.   \n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n",
    "supporting": [
      "1_04_model_fit_comp_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}