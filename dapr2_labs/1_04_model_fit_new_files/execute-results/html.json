{
  "hash": "18b7ec189e0dd3c3d8fbf054fc60cd08",
  "result": {
    "markdown": "---\ntitle: \"Model Fit and Standardization\"\nlink-citations: yes\nparams: \n    SHOW_SOLS: TRUE\n    TOGGLE: TRUE\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n:::lo\n### <i class=\"fa fa-graduation-cap\"></i> Learning Objectives\nAt the end of this lab, you will:\n\n1. Understand the calculation and interpretation of the coefficient of determination.\n1. Understand the calculation and interpretation of the F-test of model utility.\n1. Understand how to standardize model coefficients and when this is appropriate to do.\n1. Understand the relationship between the correlation coefficient and the regression slope.\n\n### <i class=\"fa fa-check-square-o fa-2\"></i> What You Need\n\n1. Be up to date with lectures\n2. Have completed previous lab exercises from [Week 1](https://uoepsy.github.io/dapr2/2223/labs/1_01_function.html), [Week 2](https://uoepsy.github.io/dapr2/2223/labs/1_02_slr.html), and [Week 3](https://uoepsy.github.io/dapr2/2223/labs/1_03_mlr.html)\n\n### <i class=\"fab fa-r-project\"></i> Required R Packages\nRemember to load all packages within a code chunk at the start of your RMarkdown file using `library()`. If you do not have a package and need to install, do so within the console using `install.packages(\" \")`. For further guidance on installing/updating packages, see Section C [here](https://uoepsy.github.io/files/install-update-r#update-pkgs). \n\nFor this lab, you will need to load the following package(s):\n\n* **tidyverse**\n* **patchwork**\n* **kableExtra**\n\n### <i class=\"fa fa-file\"></i> Lab Data\nYou can download the data required for this lab [here](https://uoepsy.github.io/data/wellbeing.csv) or read it in via this link https://uoepsy.github.io/data/wellbeing.csv. **Note**:  this is the same data as Lab 3.\n:::\n\n# Study Overview \n\n## Data Recap\n\n\n\n<div class=\"optional-begin\"><span id='opt-start-1' class=\"fa fa-chevron-circle-right optional-icon clickable\" onclick=\"toggle_visibility('opt-body-1', 'opt-start-1')\"> <span class=\"olab\">Wellbeing data codebook.</span></span></div><div class=\"optional-body\" id = \"opt-body-1\" style=\"display: none;\">\n\n  \n\n__Description__\n\nResearchers interviewed 32 participants, selected at random from the population of residents of Edinburgh & Lothians. They used the Warwick-Edinburgh Mental Wellbeing Scale (WEMWBS), a self-report measure of mental health and well-being. The scale is scored by summing responses to each item, with items answered on a 1 to 5 Likert scale. The minimum scale score is 14 and the maximum is 70.  \n\nThe researchers also asked participants to estimate the average number of hours they spend outdoors each week, the average number of social interactions they have each week (whether on-line or in-person), and whether they believe that they stick to a routine throughout the week (Yes/No).  \n\nThe data in `wellbeing.csv` contain five attributes collected from a random sample of $n=32$ hypothetical residents over Edinburgh & Lothians, and include:\n\n- `wellbeing`: Warwick-Edinburgh Mental Wellbeing Scale (WEMWBS), a self-report measure of mental health and well-being. The scale is scored by summing responses to each item, with items answered on a 1 to 5 Likert scale. The minimum scale score is 14 and the maximum is 70.  \n- `outdoor_time`: Self report estimated number of hours per week spent outdoors  \n- `social_int`: Self report estimated number of social interactions per week (both online and in-person)\n- `routine`: Binary Yes/No response to the question \"Do you follow a daily routine throughout the week?\"\n- `location`: Location of primary residence (City, Suburb, Rural)\n\n__Preview__\n\nThe first six rows of the data are:\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"ydgabwknrs\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ydgabwknrs .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ydgabwknrs .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ydgabwknrs .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ydgabwknrs .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ydgabwknrs .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ydgabwknrs .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ydgabwknrs .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ydgabwknrs .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ydgabwknrs .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ydgabwknrs .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ydgabwknrs .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ydgabwknrs .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ydgabwknrs .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ydgabwknrs .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ydgabwknrs .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ydgabwknrs .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ydgabwknrs .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ydgabwknrs .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ydgabwknrs .gt_left {\n  text-align: left;\n}\n\n#ydgabwknrs .gt_center {\n  text-align: center;\n}\n\n#ydgabwknrs .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ydgabwknrs .gt_font_normal {\n  font-weight: normal;\n}\n\n#ydgabwknrs .gt_font_bold {\n  font-weight: bold;\n}\n\n#ydgabwknrs .gt_font_italic {\n  font-style: italic;\n}\n\n#ydgabwknrs .gt_super {\n  font-size: 65%;\n}\n\n#ydgabwknrs .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ydgabwknrs .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ydgabwknrs .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ydgabwknrs .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ydgabwknrs .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ydgabwknrs .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ydgabwknrs .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">wellbeing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">outdoor_time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">social_int</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">location</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">routine</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">30</td>\n<td class=\"gt_row gt_right\">7</td>\n<td class=\"gt_row gt_right\">8</td>\n<td class=\"gt_row gt_left\">Suburb</td>\n<td class=\"gt_row gt_left\">Routine</td></tr>\n    <tr><td class=\"gt_row gt_right\">21</td>\n<td class=\"gt_row gt_right\">9</td>\n<td class=\"gt_row gt_right\">8</td>\n<td class=\"gt_row gt_left\">City</td>\n<td class=\"gt_row gt_left\">No Routine</td></tr>\n    <tr><td class=\"gt_row gt_right\">38</td>\n<td class=\"gt_row gt_right\">14</td>\n<td class=\"gt_row gt_right\">10</td>\n<td class=\"gt_row gt_left\">Suburb</td>\n<td class=\"gt_row gt_left\">Routine</td></tr>\n    <tr><td class=\"gt_row gt_right\">27</td>\n<td class=\"gt_row gt_right\">16</td>\n<td class=\"gt_row gt_right\">10</td>\n<td class=\"gt_row gt_left\">City</td>\n<td class=\"gt_row gt_left\">No Routine</td></tr>\n    <tr><td class=\"gt_row gt_right\">20</td>\n<td class=\"gt_row gt_right\">1</td>\n<td class=\"gt_row gt_right\">10</td>\n<td class=\"gt_row gt_left\">Rural</td>\n<td class=\"gt_row gt_left\">No Routine</td></tr>\n    <tr><td class=\"gt_row gt_right\">37</td>\n<td class=\"gt_row gt_right\">11</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_left\">Suburb</td>\n<td class=\"gt_row gt_left\">No Routine</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n  \n\n\n</div><p class=\"optional-end\"></p>\n\n\n\n\n# Setup\n\n\n<div class='question-begin'>Setup</div><div class='question-body'>\n\n  \n\n1. Create a new RMarkdown file\n2. Load the required package(s)\n3. Read the wellbeing dataset into R, assigning it to an object named `mwdata`\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-2' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-2', 'sol-start-2')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-2\" style=\"display: none;\">\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Loading the required package(s)\nlibrary(tidyverse)\nlibrary(kableExtra)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'kableExtra'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:dplyr':\n\n    group_rows\n```\n:::\n\n```{.r .cell-code}\nlibrary(patchwork)\n\n# Reading in data and storing to an object named 'mwdata'\nmwdata <- read_csv(\"https://uoepsy.github.io/data/wellbeing.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 32 Columns: 5\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): location, routine\ndbl (3): wellbeing, outdoor_time, social_int\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nriverview <- read_csv('https://uoepsy.github.io/data/riverview.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 32 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): gender, party\ndbl (4): education, income, seniority, male\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n# Exercises\n\n\n\n<div class='question-begin'>Question 1</div><div class='question-body'>\n\n\nSpecify and fit a linear model to investigate how WEMWBS scores vary with time spent outdoors *after* controlling for the number of social interactions and whether the individual follows a daily routine. Next, check the `summary()` output from the model.\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-3' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-3', 'sol-start-3')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-3\" style=\"display: none;\">\n\n\n\nThe model is:\n\n$$\n\\widehat{Wellbeing} = \\hat \\beta_0 + \\hat \\beta_1 \\cdot Social Interactions + \\hat \\beta_2 \\cdot Routine + \\hat \\beta_3 \\cdot Outdoor Time \n$$\n\nIn `R`:\n\n::: {.cell}\n\n```{.r .cell-code}\n#fit model\nmdl <- lm(wellbeing ~ social_int + routine + outdoor_time, data = mwdata)\n\n#look at summary output from model\nsummary(mdl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + routine + outdoor_time, \n    data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.354 -3.840 -1.071  2.671  8.859 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      3.4097     3.5908   0.950 0.350463    \nsocial_int       1.7859     0.2214   8.065 8.81e-09 ***\nroutineRoutine   6.9937     1.8152   3.853 0.000623 ***\noutdoor_time     0.5371     0.1397   3.844 0.000638 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.058 on 28 degrees of freedom\nMultiple R-squared:  0.8303,\tAdjusted R-squared:  0.8121 \nF-statistic: 45.67 on 3 and 28 DF,  p-value: 6.525e-11\n```\n:::\n:::\n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\nRecall the main formulas for obtaining a confidence interval and a test-statistic:\n\n:::statbox\n\n**Test statistic**\n\nA test statistic for the null hypothesis $H_0: \\beta_1 = 0$ is\n\n$$\nt = \\frac{\\hat \\beta_1 - 0}{SE(\\hat \\beta_1)}\n$$\n\nwhich follows a $t$-distribution with $n-2$ degrees of freedom.\n\n**Confidence interval**\n\nA confidence interval for the population slope is\n\n$$\n\\hat \\beta_1 \\pm t^* \\cdot SE(\\hat \\beta_1)\n$$\n\nwhere $t^*$ denotes the critical value chosen from t-distribution with $n-2$ degrees of freedom for a desired $\\alpha$ level of confidence. \n\n:::\n\n<br>\n\n\n\n<div class='question-begin'>Question 2</div><div class='question-body'>\n\n\nTest the hypothesis that the population slope is zero --- that is, that there is no linear association between wellbeing and outdoor time (*after* controlling for the number of social interactions and whether the individual follows a daily routine) in the population. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nYou can find all of the necessary information in the `summary()` output of your model, or calculate manually.\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-4' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-4', 'sol-start-4')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-4\" style=\"display: none;\">\n\n\n\n::: {.panel-tabset}\n\n## Manually\n\nWe calculate the test statistic\n\n$$\nt = \\frac{\\hat \\beta_3 - 0}{SE(\\hat \\beta_3)} = \\frac{0.5371 - 0}{0.1397} = 3.845\n$$\n\n\nand compare it with the 5% critical value from a $t$-distribution with $n-2$ degrees of freedom, which is:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn <- nrow(mwdata)\ntstar <- qt(0.975, df = n - 2)\ntstar\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.042272\n```\n:::\n\n```{.r .cell-code}\n#tstar = 2.042272\n```\n:::\n\n\nAs $|t|$ ($|t|$ = 3.85) is much larger than $t^*$ ($t^*$ = 2.04), we reject then null hypothesis as we have strong evidence against it.\n\nThe $p$-value, shown below, also confirms this conclusion.\n\n::: {.cell}\n\n```{.r .cell-code}\n2 * (1 - pt(3.845, n - 2))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.0005835717\n```\n:::\n:::\n\n\n## R function\n\nPlease note that the same information was already contained in the row corresponding to the variable \"outdoor_time\" in the output of `summary(mdl)`, which reported the $t$-statistic under `t value` and the $p$-value under `Pr(>|t|)`:\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(mdl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + routine + outdoor_time, \n    data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.354 -3.840 -1.071  2.671  8.859 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      3.4097     3.5908   0.950 0.350463    \nsocial_int       1.7859     0.2214   8.065 8.81e-09 ***\nroutineRoutine   6.9937     1.8152   3.853 0.000623 ***\noutdoor_time     0.5371     0.1397   3.844 0.000638 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.058 on 28 degrees of freedom\nMultiple R-squared:  0.8303,\tAdjusted R-squared:  0.8121 \nF-statistic: 45.67 on 3 and 28 DF,  p-value: 6.525e-11\n```\n:::\n:::\n\n\n:::\n\nBefore we interpret the results, note that sometimes $p$-values will be reported to $e^X$. For example, look in the `Pr(>|t|)` column for \"social_int\". The value $8.81e^-09^$ simply means $8.81 \\times 10^{-9}$. This is a very small value (i.e., 0.00000000881), hence we will report it as <.001 following the [APA guidelines](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf).\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nWe performed a $t$-test against the null hypothesis that outdoor time was not associated with wellbeing scores. A significant association was found between level of outdoor time  (in hours per week) and wellbeing (WEMWBS scores) $t(28) = 3.84,\\ p < .001$, two-sided. Thus, we have evidence to reject the null hypothesis.\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n\n\n\n<div class='question-begin'>Question 3</div><div class='question-body'>\n\n\n\nCompute a confidence interval for the regression slope for $$\\hat \\beta_3$$.\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-5' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-5', 'sol-start-5')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-5\" style=\"display: none;\">\n\n\n\n::: {.panel-tabset}\n\n## Manually\n\nFor 95\\% confidence we have $t^* = 2.04$:\n\n::: {.cell}\n\n```{.r .cell-code}\nn <- nrow(mwdata)\ntstar <- qt(0.975, df = n - 2)\ntstar\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.042272\n```\n:::\n:::\n\n\nThe confidence interval is:\n\n::: {.cell}\n\n```{.r .cell-code}\nbeta3_ci <- tibble(\n  lower = 0.5371 - tstar * 0.1397,\n  upper = 0.5371 + tstar * 0.1397,\n                  )\nbeta3_ci\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  lower upper\n  <dbl> <dbl>\n1 0.252 0.822\n```\n:::\n:::\n\n\n## R function\nWe can easily obtain the confidence intervals for the regression coefficients using the command `confint()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconfint(mdl, level = 0.95)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                   2.5 %     97.5 %\n(Intercept)    -3.945790 10.7651807\nsocial_int      1.332306  2.2395049\nroutineRoutine  3.275366 10.7119970\noutdoor_time    0.250891  0.8233483\n```\n:::\n:::\n\n\nThe result is exactly the same (up to rounding errors) as calculating manually. \n\n:::\n\nWe typically report our uncertainty in a statistic by providing $\\text{estimate} \\pm t^* \\cdot \\text{SE}$. Here we would say that because of sampling variation, we are 95\\% confident that the slope is between 0.252 and 0.822. Interpreting this, we might say,\n\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nFor all Riverview city employees, each one-year difference in formal education was associated with a difference in income between \\$1,896 and \\$3,406, on average.\n\n:::\n\nSimilarly, we could express the uncertainty in the intercept $\\hat \\beta_0$ as:\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nThe average income for all Riverview city employees with zero years of education is between \\$-1184 and \\$23,827.\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n\n\n<div class='question-begin'>Question 4</div><div class='question-body'>\n\n\nWhat is the proportion of the total variability in wellbeing scores explained by the model?\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nThe question asks to compute the value of $R^2$. Since the model has more than 2 predictors, you should report the Adjusted $R^2$.\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-6' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-6', 'sol-start-6')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-6\" style=\"display: none;\">\n\n\nThe proportion of the total variability explained is given by R-squared.\n\nThe R-squared coefficient is defined as:\n\n$$\nR^2 = \\frac{SS_{Model}}{SS_{Total}} = 1 - \\frac{SS_{Residual}}{SS_{Total}}\n$$\n\nThe Adjusted R-squared coefficient is defined as:\n\n\n$$\n\\hat R^2 = 1 - \\frac{(1 - R^2)(n-1)}{n-k-1}\n\\quad \\\\\n\\begin{align}\n& \\text{Where:} \\\\\n& n = \\text{sample size} \\\\\n& k = \\text{number of explanatory variables} \\\\\n\\end{align}\n$$\n\n::: {.panel-tabset}\n\n## Manually\n\nIn `R` we can write:\n\n::: {.cell}\n\n```{.r .cell-code}\n#R squared & adjusted R squared\n\nwellbeing_fitted <- mwdata %>%\n  mutate(\n    wellbeing_hat = predict(mdl),\n    resid = wellbeing - wellbeing_hat\n  )\nhead(wellbeing_fitted)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 7\n  wellbeing outdoor_time social_int location routine    wellbeing_hat resid\n      <dbl>        <dbl>      <dbl> <chr>    <chr>              <dbl> <dbl>\n1        30            7          8 Suburb   Routine             28.5  1.55\n2        21            9          8 City     No Routine          22.5 -1.53\n3        38           14         10 Suburb   Routine             35.8  2.22\n4        27           16         10 City     No Routine          29.9 -2.86\n5        20            1         10 Rural    No Routine          21.8 -1.81\n6        37           11         12 Suburb   No Routine          30.7  6.25\n```\n:::\n\n```{.r .cell-code}\nwellbeing_fitted %>%\n  summarise(\n    SSModel = sum( (wellbeing_hat - mean(wellbeing))^2 ),\n    SSTotal = sum( (wellbeing - mean(wellbeing))^2 )\n  ) %>%\n  summarise(\n    RSquared = SSModel / SSTotal,\n    AdjRSquared = 1-((1-(RSquared))*(32-1)/(32-3-1))\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  RSquared AdjRSquared\n     <dbl>       <dbl>\n1    0.830       0.812\n```\n:::\n:::\n\n\n\n## summary()\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(mdl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + routine + outdoor_time, \n    data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.354 -3.840 -1.071  2.671  8.859 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      3.4097     3.5908   0.950 0.350463    \nsocial_int       1.7859     0.2214   8.065 8.81e-09 ***\nroutineRoutine   6.9937     1.8152   3.853 0.000623 ***\noutdoor_time     0.5371     0.1397   3.844 0.000638 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.058 on 28 degrees of freedom\nMultiple R-squared:  0.8303,\tAdjusted R-squared:  0.8121 \nF-statistic: 45.67 on 3 and 28 DF,  p-value: 6.525e-11\n```\n:::\n:::\n\n\nThe output of `summary()` displays the Adjusted $R$-squared value in the following line:\n```\nAdjusted R-squared:  0.8121 \n```\n\n\n## Manually: ANOVA\n\nWe can perform an **AN**alysis **O**f **VA**riance or, in short, ANOVA.\n\nIt simply means that we are examining/partitioning the total variability of a response variable.\n\nThe `anova()` function returns the sum of squares of interest in the column `Sum Sq`:\n\n::: {.cell}\n\n```{.r .cell-code}\nmdl_anova <- anova(mdl)\nmdl_anova\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Variance Table\n\nResponse: wellbeing\n             Df  Sum Sq Mean Sq F value    Pr(>F)    \nsocial_int    1 2661.03 2661.03 104.001 6.231e-11 ***\nroutine       1  466.48  466.48  18.231 0.0002031 ***\noutdoor_time  1  378.06  378.06  14.776 0.0006376 ***\nResiduals    28  716.43   25.59                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\nConsider the column `Sum Sq`. \nThe entry corresponding to `education` gives $SS_{Model}$ = 4147.3, as education is the explanatory variable. The entry corresponding to `Residuals` gives $SS_{Residual}$ = 2418.2.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Because the column name Sum Sq has a space, we need to wrap it with backticks\nSSModel <- (mdl_anova$`Sum Sq`[1])+(mdl_anova$`Sum Sq`[2])+(mdl_anova$`Sum Sq`[3])\nSSResidual <- mdl_anova$`Sum Sq`[4]\nSSTotal <- SSModel + SSResidual\n\nRSquared <- SSModel / SSTotal\nRSquared\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8303108\n```\n:::\n:::\n\n\nNow to calculate the Adjusted R Squared, simply sub the values into the formula given above:\n\n\n$$\n\\hat R^2 = 1 - \\frac{(1 - 0.83)(32-1)}{32-3-1}\n$$\n\nIn R: \n\n::: {.cell}\n\n```{.r .cell-code}\n#sub in values - pull from R as opposed to including rounded numbers to improve accuracy of estimation\nAdjRSquared <- 1 - ((1-RSquared)*(nrow(mwdata)-1))/(nrow(mwdata)-3-1)\nAdjRSquared \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8121298\n```\n:::\n:::\n\n\n\n:::\n\n---\n\n**Interpretation**\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nApproximately 81\\% of the total variability in wellbeing scores is explained by associations with social interactions, routine, and outdoor time.\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n\n<div class='question-begin'>Question 5</div><div class='question-body'>\n\n\nPerform a model utility test at the 5\\% significance level, by computing the F-statistic using its definition.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nThe F-ratio is used to test the null hypothesis that all regression slopes are zero.  \nIt is called the F-ratio because it is the ratio of the how much of the variation is explained by the model (per paramater) versus how much of the variation is left unexplained in the residuals (per remaining degrees of freedom). \n\n$$\nF_{df_{model},df_{residual}} = \\frac{MS_{Model}}{MS_{Residual}} = \\frac{SS_{Model}/df_{Model}}{SS_{Residual}/df_{Residual}} \\\\\n\\quad \\\\\n\\begin{align}\n& \\text{Where:} \\\\\n& df_{model} = k \\\\\n& df_{residual} = n-k-1 \\\\\n& n = \\text{sample size} \\\\\n& k  = \\text{number of explanatory variables} \\\\\n\\end{align}\n$$\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"optional-begin\"><span id='opt-start-7' class=\"fa fa-chevron-circle-right optional-icon clickable\" onclick=\"toggle_visibility('opt-body-7', 'opt-start-7')\"> <span class=\"olab\">Optional: Another formula for the F-test.</span></span></div><div class=\"optional-body\" id = \"opt-body-7\" style=\"display: none;\">\n\n\n\nWith some algebra we can also show that:\n$$\nF = \\frac{R^2 / 1}{(1 - R^2) / (n - 2) } = \\frac{R^2 / df_{Model}}{(1 - R^2) / df_{Residual} }\n$$\n\n\nProof:\n\n$$\n\\begin{aligned}\nF = \\frac{SS_{Model} / 1}{SS_{Residual} / (n - 2)} \n= \\frac{\\frac{SS_{Model}}{SS_{Total}}}{\\frac{SS_{Residual}}{SS_{Total}} \\cdot \\frac{1}{(n - 2)}} \n= \\frac{R^2 / 1}{(1 - R^2) / (n - 2)}\n\\end{aligned}\n$$\n\n\n\n\n</div><p class=\"optional-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-8' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-8', 'sol-start-8')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-8\" style=\"display: none;\">\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1 <- 1\ndf2 <- nrow(mwdata) - 2\nf_star <- qf(0.95, df1, df2)\nf_star\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4.170877\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_utility <- wellbeing_fitted %>%\n  summarise(\n    SSModel = sum((wellbeing_hat - mean(wellbeing))^2 ),\n    SSResid = sum( resid^2 ),\n    MSModel = SSModel / 1,\n    MSResid = SSResid / df2,\n    FObs = MSModel / MSResid\n  )\nmodel_utility\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 5\n  SSModel SSResid MSModel MSResid  FObs\n    <dbl>   <dbl>   <dbl>   <dbl> <dbl>\n1   3506.    716.   3506.    23.9  147.\n```\n:::\n:::\n\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nWe performed an $F$-test of model utility at the 5\\% significance level, where $F(1,30) = 51.45$.\n\nAs the observed $F = 51.45$ is much larger than the critical value $F^* = 4.17$, we have strong evidence to reject the null hypothesis that the model is ineffective.\n:::\n\n<br>\nAlternatively, we can compute the p-value:\n::: {.cell}\n\n```{.r .cell-code}\npvalue <- 1 - pf(model_utility$FObs, df1, df2)\npvalue\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4.387601e-13\n```\n:::\n:::\nThe value `5.562116e-08` simply means $5.56 \\times 10^{-8}$, so it's a really small number.\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nWe performed an $F$-test of model utility at the 5\\% significance level, where $F(1,30) = 51.45, p<.001$.\n\nThe $p$-value (< .001) is much lower than the specified significance level, meaning that we have evidence against the null hypothesis.\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n\n\n\n<div class='question-begin'>Question 6</div><div class='question-body'>\n\n\nLook at the output of `summary(mdl)` and `anova(mdl)`.\n\nFor each output, identify the relevant information to conduct an F-test against the null hypothesis that the model is ineffective at predicting income using education level.\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-9' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-9', 'sol-start-9')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-9\" style=\"display: none;\">\n\n\n\n::: {.panel-tabset}\n\n## summary() output\n::: {.cell}\n\n```{.r .cell-code}\nsummary(mdl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = wellbeing ~ social_int + routine + outdoor_time, \n    data = mwdata)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-9.354 -3.840 -1.071  2.671  8.859 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      3.4097     3.5908   0.950 0.350463    \nsocial_int       1.7859     0.2214   8.065 8.81e-09 ***\nroutineRoutine   6.9937     1.8152   3.853 0.000623 ***\noutdoor_time     0.5371     0.1397   3.844 0.000638 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.058 on 28 degrees of freedom\nMultiple R-squared:  0.8303,\tAdjusted R-squared:  0.8121 \nF-statistic: 45.67 on 3 and 28 DF,  p-value: 6.525e-11\n```\n:::\n:::\n\nThe relevant row is the following:\n\n```\nF-statistic: 51.45 on 1 and 30 DF,  p-value: 5.562e-08\n```\n\n## anova() output\n::: {.cell}\n\n```{.r .cell-code}\nanova(mdl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Variance Table\n\nResponse: wellbeing\n             Df  Sum Sq Mean Sq F value    Pr(>F)    \nsocial_int    1 2661.03 2661.03 104.001 6.231e-11 ***\nroutine       1  466.48  466.48  18.231 0.0002031 ***\noutdoor_time  1  378.06  378.06  14.776 0.0006376 ***\nResiduals    28  716.43   25.59                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\nAnd the relevant entries are:\n\n- the `Df` column, which contains the degrees of freedom;\n- `F value = 51.452`, which is the F-statistic;\n- `Pr(>F) = 5.562e-08` = $5.562 \\times 10^{-8}$, which is the p-value.\n\n:::\n---\n\n\n**Interpretation**\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nWe performed an $F$-test for the overall significance of the regression, $F(1, 30) = 51.45, p < .001$.\n\nThe large $F$-statistic leads to a very small $p$-value ($<.001$), meaning that we have very strong evidence against the null hypothesis that the model is ineffective.\n\nIn other words, the data provide strong evidence that education is an effective predictor of income.\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n\n<div class='question-begin'>Question 8</div><div class='question-body'>\n\n\nConsider the `F value` output of `anova(mdl)` and the `t value` for education returned by `summary(mdl)`\n\n```\nF value = 51.452\nt value = 7.173\n```\n\nDo you notice any relationship between the F-statistic for overall model utility and the t-statistic for $H_0: \\beta_1 = 0$?\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-10' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-10', 'sol-start-10')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-10\" style=\"display: none;\">\n\n\n**In simple linear regression only**, the F-statistic for overall model significance is equal to the square of the t-statistic for $H_0: \\beta_1 = 0$.\n\nYou can check that the squared t-statistic is equal, up to rounding error, to the F-statistic:\n\n$$\nt^2 = F \\\\\n7.173^2 = 51.452\n$$\n\n\n\n\n<div class=\"optional-begin\"><span id='opt-start-11' class=\"fa fa-chevron-circle-right optional-icon clickable\" onclick=\"toggle_visibility('opt-body-11', 'opt-start-11')\"> <span class=\"olab\">Optional: Equivalence of t-test for the slope and model utility F-test in SLR.</span></span></div><div class=\"optional-body\" id = \"opt-body-11\" style=\"display: none;\">\n\n\n\nHere we will show the equivalence of the F-test for model effectiveness and t-test for the slope.\n\nRecall the formula of the sum of squares due to the model. We will rewrite it in an equivalent form below:\n\n$$\n\\begin{aligned}\nSS_{Model} &= \\sum_i (\\hat y_i - \\bar y)^2 \\\\\n&= \\sum_i (\\hat \\beta_0 + \\hat \\beta_1 x_i - \\bar y)^2 \\\\\n&= \\sum_i (\\bar y - \\hat \\beta_1 \\bar x + \\hat \\beta_1 x_i - \\bar y)^2 \\\\\n&= \\sum_i (\\hat \\beta_1 (x_i - \\bar x))^2 \\\\\n&= \\hat \\beta_1^2 \\sum_i (x_i - \\bar x)^2\n\\end{aligned}\n$$\n\n\nThe $F$-statistic is given by:\n\n$$\n\\begin{aligned}\nF = \\frac{SS_{Model} / 1}{SS_{Residual} / (n - 2)} \n= \\frac{\\hat \\beta_1^2 \\sum_i (x_i - \\bar x)^2}{\\hat \\sigma^2} \n= \\frac{\\hat \\beta_1^2 }{\\hat \\sigma^2 / \\sum_i (x_i - \\bar x)^2}\n\\end{aligned}\n$$\n\n\nNow recall the formula of the $t$-statistic,\n\n$$\nt = \\frac{\\hat \\beta_1}{SE(\\hat \\beta_1)} = \\frac{\\hat \\beta_1}{\\hat \\sigma / \\sqrt{\\sum_i (x_i - \\bar x)^2}}\n$$\n\n\nIt is evident that the latter is obtained as the square root of the former.\n\n\n\n</div><p class=\"optional-end\"></p>\n\n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n## Standardization\n\n\n\n<div class='question-begin'>Question 8</div><div class='question-body'>\n\n\nFit the regression model using the standardized response and explanatory variables.\n\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nYou can either:\n\n1. Add to the \"mwdata\" dataset three variables called `z_wellbeing`, `z_social_int`, and `z_outdoor_time` representing the standardized welllbeing, social interactions and outdoor time variables, respectively.\nor\n2. Use the `scale()` function when specifying your `lm()` statement.\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-12' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-12', 'sol-start-12')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-12\" style=\"display: none;\">\n\n\n\n::: {.panel-tabset}\n\n## Z-score\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmwdata <- mwdata %>%\n  mutate(\n    z_wellbeing = (wellbeing - mean(wellbeing)) / sd(wellbeing),\n    z_social_int = (social_int - mean(social_int)) / sd(social_int),\n    z_outdoor_time = (outdoor_time - mean(outdoor_time)) / sd(outdoor_time)\n  )\n```\n:::\n\n\nCheck that they are standardized:\n\n::: {.cell}\n\n```{.r .cell-code}\nmwdata %>%\n  summarise(\n    M_z_wellbeing = round(mean(z_wellbeing),2), SD_z_wellbeing = sd(z_wellbeing), \n    M_z_social_int = round(mean(z_social_int),2), SD_z_social_int = sd(z_social_int),\n    M_z_outdoor_time = round(mean(z_outdoor_time),2), SD_z_outdoor_time = sd(z_outdoor_time)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 6\n  M_z_wellbeing SD_z_wellbeing M_z_social_int SD_z_social_int M_z_outd…¹ SD_z_…²\n          <dbl>          <dbl>          <dbl>           <dbl>      <dbl>   <dbl>\n1             0              1              0               1          0       1\n# … with abbreviated variable names ¹​M_z_outdoor_time, ²​SD_z_outdoor_time\n```\n:::\n\n```{.r .cell-code}\n#mean of 0, SD of 1 - all good to go\n```\n:::\n\n\nRun model:\n\n::: {.cell}\n\n```{.r .cell-code}\n#with z scoring\nmdl_z <- lm(z_wellbeing ~ z_social_int + z_outdoor_time, data = mwdata)\nsummary(mdl_z)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = z_wellbeing ~ z_social_int + z_outdoor_time, data = mwdata)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-0.8347 -0.4212 -0.1075  0.4822  0.9371 \n\nCoefficients:\n                Estimate Std. Error t value Pr(>|t|)    \n(Intercept)    1.327e-16  9.313e-02   0.000   1.0000    \nz_social_int   6.742e-01  1.006e-01   6.702 2.37e-07 ***\nz_outdoor_time 3.527e-01  1.006e-01   3.506   0.0015 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.5268 on 29 degrees of freedom\nMultiple R-squared:  0.7404,\tAdjusted R-squared:  0.7224 \nF-statistic: 41.34 on 2 and 29 DF,  p-value: 3.226e-09\n```\n:::\n\n```{.r .cell-code}\nround(summary(mdl_z)$coefficients,3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               Estimate Std. Error t value Pr(>|t|)\n(Intercept)       0.000      0.093   0.000    1.000\nz_social_int      0.674      0.101   6.702    0.000\nz_outdoor_time    0.353      0.101   3.506    0.001\n```\n:::\n:::\n\n\n\n\n## scale() function\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#use scale\nmdl_s <- lm(scale(wellbeing) ~ scale(social_int) + scale(outdoor_time), data = mwdata)\nsummary(mdl_s)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = scale(wellbeing) ~ scale(social_int) + scale(outdoor_time), \n    data = mwdata)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-0.8347 -0.4212 -0.1075  0.4822  0.9371 \n\nCoefficients:\n                     Estimate Std. Error t value Pr(>|t|)    \n(Intercept)         1.327e-16  9.313e-02   0.000   1.0000    \nscale(social_int)   6.742e-01  1.006e-01   6.702 2.37e-07 ***\nscale(outdoor_time) 3.527e-01  1.006e-01   3.506   0.0015 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.5268 on 29 degrees of freedom\nMultiple R-squared:  0.7404,\tAdjusted R-squared:  0.7224 \nF-statistic: 41.34 on 2 and 29 DF,  p-value: 3.226e-09\n```\n:::\n\n```{.r .cell-code}\nround(summary(mdl_s)$coefficients,3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                    Estimate Std. Error t value Pr(>|t|)\n(Intercept)            0.000      0.093   0.000    1.000\nscale(social_int)      0.674      0.101   6.702    0.000\nscale(outdoor_time)    0.353      0.101   3.506    0.001\n```\n:::\n:::\n\n\n:::\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n\n<div class='question-begin'>Question 10</div><div class='question-body'>\n\n\nInterpret the slope of the standardized variables.\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n\n<div class=\"solution-begin\"><span id='sol-start-13' class=\"fa-solid fa-circle-arrow-right solution-icon clickable\" onclick=\"toggle_visibility('sol-body-13', 'sol-start-13')\">  Solution </span></div><div class=\"solution-body\" id = \"sol-body-13\" style=\"display: none;\">\n\n\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\nFor every standard deviation increase in education, income increases on average by 0.79 standard deviations.\n\n:::\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n# References\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}