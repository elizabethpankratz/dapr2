{"title":"Bootstrapping","markdown":{"yaml":{"title":"Bootstrapping","link-citations":true,"params":{"SHOW_SOLS":true,"TOGGLE":true},"editor_options":{"chunk_output_type":"console"}},"headingText":"<i class=\"fa fa-graduation-cap\"></i> Learning Objectives","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nsource('assets/setup.R')\nset.seed(3)\n```\n\n:::lo\n\nAt the end of this lab, you will:\n\n1. Understand the principles of bootstrapping\n2. Understand how to apply the bootstrap confidence interval to inference in linear models\n\n### <i class=\"fa fa-check-square-o fa-2\"></i> What You Need\n\n1. Be up to date with lectures\n2. Have completed previous lab exercises from [Week 2](https://uoepsy.github.io/dapr2/2425/labs/1_02_mlr.html) and [Week 9](https://uoepsy.github.io/dapr2/2425/labs/1_08_assump_diag.html)\n\n### <i class=\"fab fa-r-project\"></i> Required R Packages\nRemember to load all packages within a code chunk at the start of your RMarkdown file using `library()`. If you do not have a package and need to install, do so within the console using `install.packages(\" \")`. For further guidance on installing/updating packages, see Section C [here](https://uoepsy.github.io/files/install-update-r#update-pkgs). \n\nFor this lab, you will need to load the following package(s):\n\n* **tidyverse** \n* **psych**\n* **patchwork**\n* **sjPlot**\n* **kableExtra**\n* **car**\n\n### <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> Presenting Results\nAll results should be presented following [APA guidelines](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf).If you need a reminder on how to hide code, format tables/plots, etc., make sure to review the [rmd bootcamp](https://uoepsy.github.io/scs/rmd-bootcamp/).\n\nThe example write-up sections included as part of the solutions are **not perfect** - they instead should give you a good example of what information you should include and how to structure this. Note that you must **not** copy any of the write-ups included below for future reports - if you do, you will be committing plagiarism, and this type of academic misconduct is taken very seriously by the University. You can find out more [here](https://www.ed.ac.uk/academic-services/students/conduct/academic-misconduct).\n\n### <i class=\"fa fa-file\"></i> Lab Data\nYou can download the data required for this lab [here](https://uoepsy.github.io/data/science-faith-attitude.csv) or read it in via this link https://uoepsy.github.io/data/science-faith-attitude.csv \n\n:::\n\n# Study Overview\n\n> **Research Question**\n>\n> Is there an association between peoples' attitudes towards science and faith and their scientific knowledge after accounting for their age?\n\n`r optbegin(\"Attitudes Codebook\", olabel=FALSE, toggle=params$TOGGLE)` \n\n__Description__\n\nUsing Eurobarometer measures, researchers were interested in understanding opinions about science, technology, social values, and services of\ngeneral interest. Specifically, researchers wanted to explore whether peoples' attitudes towards science and faith was associated with their scientific knowledge after accounting for their age. To examine these associations, we will use a subset of data from the [2005 Eurobarometer 63.1 survey](https://www.gesis.org/en/eurobarometer-data-service/survey-series/standard-special-eb/study-overview/eurobarometer-631-za-4233-jan-feb-2005). \n\n__Data Dictionary__\n\n```{r echo=FALSE, message=FALSE, warning=FALSE}\nebsurvey <- read_csv(\"https://uoepsy.github.io/data/science-faith-attitude.csv\")\ntibble(\nvariable = names(ebsurvey),\ndescription = c(\"Participant ID\", \"Nation ID:  1 = France, 2 = Belgium, 3 = The Netherlands, 4 = Germany West, 5 = Italy, 6 = Luxembourg, 7 = Denmark, 8 = Ireland, 9 = Great Britain, 10 = Northern Ireland, 11 = Greece, 12 = Spain, 13 = Portugal, 14 = Germany East, 15 = Norway, 16 = Finland, 17 = Sweden, 18 = Austria, 19 = Cyprus (Republic), 20 = Czech Republic, 21 = Estonia, 22 = Hungary, 23 = Latvia, 24 = Lithuania, 25 = Malta, 26 = Poland, 27 = Slovakia, 28 = Slovenia, 29 = Bulgaria, 30 = Romania, 31 = Turkey, 32 = Croatia, 33 Cyprus (TCC; not included), 34 = Iceland, 35 = Switzerland\", \"Score on a science quiz composed of 13 true/false items. Scores can range 0-13.\", \"Individual's age (in years)\", \"Whether participant idenitfied as male (1) or female (0)\", \"Attitude to science and faith. Response to the question - We rely too much on science and not enough on faith. Responses were recorded on a 5-point scale from strongly disagree (0) to strongly agree (4)\", \"Number of explicitly mentioned target phrases in response to the question - Please tell me, in your own words, what it means to study something scientifically?\" )\n) %>% gt::gt()\n```\n\n__Preview__\n\nThe first six rows of the data are:\n\n```{r echo=FALSE, message=FALSE}\nread_csv('https://uoepsy.github.io/data/science-faith-attitude.csv') %>% head %>% gt::gt()\n```\n\n`r optend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Setup\n\n`r qbegin(\"Setup\", qlabel = FALSE)`  \n\n1. Create a new RMarkdown file\n2. Load the required package(s)\n3. Read in the science-faith-attitude dataset into R, assigning it to an object named `ebsurvey` \n \n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r message=FALSE}\n#load packages\nlibrary(tidyverse) \nlibrary(psych)\nlibrary(patchwork)\nlibrary(sjPlot)\nlibrary(kableExtra)\nlibrary(car)\n\n#read in data\nebsurvey <- read_csv(\"https://uoepsy.github.io/data/science-faith-attitude.csv\")\n```\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Exercises \n\n## Study Overview & Data Management\n\n`r qbegin(1)`\n\nExamine the dataset, and perform any necessary and appropriate data management steps.\n\nNote, to address the research question, we only need to refer to the `kstot`, `age`, and `toomuchscience` variables. Subset the data to only have those 3 columns.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n- To subset the data to only include the 3 variables of interest, we can use the `select()` function  \n- Check that the dataset is complete (i.e., are there any `NA` values?). We can check this using `is.na()`  \n    - There are numerous ways to deal with this. Two common commands are `na.omit()` and `drop_na()`. The former will remove all rows from a dataset that contain `NA` values in any column. In the latter, we can specify which columns we want to identify `NA` values in, and remove only rows containing `NA` values for those specific columns. In other words, the latter can help to preserve more data  \n- If needed, provide better variable names\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n# Inspect top 6 rows\nhead(ebsurvey)\n\n# Check data dimensions\ndim(ebsurvey)\n```\n\nThere are `r nrow(ebsurvey)` observations on `r ncol(ebsurvey)` variables.\n\nHowever, today we will be only using the `kstot`, `age`, and `toomuchscience` variables, and so we subset the data to only include these:\n\n```{r}\nebsurvey <- ebsurvey %>%\n    select(kstot, age, toomuchscience)\n```\n\nAre there any `NA` values in the data?\n```{r}\n#check for NAs\nanyNA(ebsurvey)\n\n#how many NAs?\ntable(is.na(ebsurvey))\n#11390 NAs in data set \n\n#Omit the NAs - we are interested in all three columns so do not need to specify within drop_na()\nebsurvey <- ebsurvey %>%\n    drop_na()\n\n# Check new data dimensions\ndim(ebsurvey)\n```\n\nGive the variables more meaningful names. Rename `kstot` to `science_knowledge` and rename `toomuchscience` to `attitude`:\n\n```{r}\nebsurvey <- ebsurvey %>%\n    rename(science_knowledge = kstot,\n           attitude = toomuchscience)\nhead(ebsurvey)\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(2)`\n\nProvide a brief overview of the study design and data, before detailing your analysis plan to address the research question.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\n- Give the reader some background on the context of the study\n- State what type of analysis you will conduct in order to address the research question\n- Specify the model to be fitted to address the research question (note that you will need to specify the reference level of any categorical variable(s))\n- Specify your chosen significance ($\\alpha$) level\n- State your hypotheses\n\nMuch of the information required can be found in the [Study Overview] codebook. The [statistical models](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#statistical-models) flashcards may also be useful to refer to. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nThe `ebsurvey` dataset, excluding missing values, included 10,503 individual respondents who were measured on 3 different attributes of interest: (1) score on a science \"quiz\" composed of 13 true/false items; (2) attitudes towards science and faith (question phrasing: \"We rely too much on science and not enough on faith\" with responses recorded on a 5-point scale from strongly disagree to strongly agree); and (3) their age (in years).\n\nHistograms will be used to visualise the marginal distributions of attitudes towards science and faith, scientific knowledge, and age. To understand the strength of association among the variables, we will estimate the the correlation coefficients. To address the research question of whether there is an association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age, we are going to fit the following multiple linear regression model:\n\n$$\n \\text{Attitude} = \\beta_0  + \\beta_1 \\cdot \\text{Science Knowledge} + \\beta_2 \\cdot \\text{Age} + \\epsilon\n$$\nEffects will be considered statistically significant at $\\alpha = .05$.\n\nOur hypotheses are:\n\n$H_0: \\beta_1 = 0$: There is no association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age\n\n$H_1: \\beta_1 \\neq 0$: There is an association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Descriptive Statistics & Visualisations\n\n`r qbegin(3)`\n\nAlongside descriptive statistics, visualise the marginal distributions of the `attitude`, `science_knowledge`, and `age` variables. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the many ways to numerically and visually explore your data by reading over the [data exploration flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#data-exploration).\n\nFor examples, see flashcards on [descriptives statistics tables](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#data-exploration) and [data visualisation - marginal](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#visual-exploration).\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n::: {.panel-tabset}\n\n## Numeric\n\n```{r}\n#| label: tbl-w9-desc\n#| tbl-cap: Attitude, Scientfic Knowledge, and Age Descriptive Statistics\n\n# drop columns 5, 6, 7 and 13 from describe output\nebsurvey %>% \n    describe() %>%\n    select(-c(5:7, 13)) %>%\n    kable(caption = \"Attitude, Scientfic Knowledge, and Age Descriptive Statistics\", align = \"c\", digits = 2) %>%\n    kable_styling(full_width = FALSE)\n\n```\n\n## Visual\n\n::: {.panel-tabset}\n\n### Attitude Towards Science & Faith\n\n```{r}\n#| label: fig-w9-attitude\n#| fig-cap: \"Bar Chart of Attitude Scores\"\nggplot(ebsurvey, aes(x = attitude)) +\n    geom_bar() +\n    labs(x = 'We Rely too Much on Science and not Enough on Faith', \n         y = 'Frequency')\n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\nThe mean score on the science and faith attitude variable is just over 2. There are only 5 discrete values possible in the distribution, based on the response options available, but the distribution looks approximately normal, with a slight negative skew (see @fig-w9-attitude).\n\n:::\n\n### Science Knowledge\n\n```{r}\n#| label: fig-w9-sciknow\n#| fig-cap: \"Histogram of Scientific Knowledge Scores\"\nggplot(ebsurvey, aes(x = science_knowledge)) +\n    geom_histogram() +\n    labs(x = 'Science Knowledge Quiz Scores', \n         y = 'Frequency')\n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\n@fig-w9-sciknow shows that the majority of values on the science knowledge quiz score cluster between about 5 and 11. There is a slight negative skew to the distribution. Overall there is little reason for concern as to the appropriateness of the variable for inclusion.\n\n:::\n\n### Age\n\n```{r}\n#| label: fig-w9-age\n#| fig-cap: \"Histogram of Age\"\nggplot(ebsurvey, aes(x = age)) +\n    geom_histogram() +\n    labs(x = 'Age (years)', \n         y = 'Frequency')\n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\nThe mean age in the sample is about 45 years with a standard deviation of just over 17 years. The distribution looks approximately normal, with a slight positive skew (see @fig-w9-age).\n\n:::\n\n:::\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(4)`\n\nProduce plots of the associations between the outcome variable and each of the explanatory variables.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \nReview how to visually explore bivariate associations via the [data visualisation flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#visual-exploration). For specifically visualising associations between variables, see the [bivariate examples flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#visual-exploration).  \n\nNote that using `geom_point()` here might not be the best idea - all we would see from the plot is all combinations of Attitude towards Science and Faith and a) Age and b) Science Knowledge that were observed in the data, and this is not very informative:\n\n```{r message = FALSE, warning=FALSE, echo = FALSE}\n#| label: fig-biv-relationship-demo\n#| fig-cap: \"Scatterplots displaying the associations between Attitude towards Science and Faith and a) Age, and b) Science Knowledge\"\np1_ex <- ggplot(data = ebsurvey, aes(x = age, y = attitude)) +\n    geom_point() +\n    labs(x = 'Age (in years)', y = \"Attitude towards Science and Faith\")\n\np2_ex <- ggplot(data = ebsurvey, aes(x = science_knowledge, y = attitude)) +\n    geom_point()  +\n    labs(x = \"Science Knowledge Quiz Scores\", y = \"Attitude towards Science and Faith\")\n\np1_ex | p2_ex\n```\n\nInstead, you may want to consider using `geom_jitter()` to add a little bit of noise (or jitter)  to the plot. Within the `geom_jitter()` argument, take some time to experiment with the `size = ` and `alpha = ` arguments to find optimal values to aid interpretation. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r message = FALSE, warning=FALSE}\n#| label: fig-biv-relationship\n#| fig-cap: \"Scatterplots displaying the associations between Attitude towards Science and Faith and a) Age, and b) Science Knowledge\"\np1 <- ggplot(data = ebsurvey, aes(x = age, y = attitude)) +\n    geom_jitter(size = .5, alpha = .3) +\n    labs(x = 'Age (in years)', y = \"Attitude towards Science and Faith\")\n\np2 <- ggplot(data = ebsurvey, aes(x = science_knowledge, y = attitude)) +\n    geom_jitter(size = .5, alpha = .3)  +\n    labs(x = \"Science Knowledge Quiz Scores\", y = \"Attitude towards Science and Faith\")\n\np1 | p2 \n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\nIt does not seem like there is a strong linear dependence of attitude to science and faith on a person's age or their scientific knowledge. We can make some rough observations:\n\n+ The majority of respondents scored 2 or 3 (i.e., responded as neutral or agree) on the attitudes towards science and faith question\n+ Very few people strongly disagreed with the attitudes towards science and faith question, but this appeared to be slightly more common in younger respondents\n+ Very few people had scientific knowledge quiz scores <5. Lower scientific knowledge quiz scores appeared to be associated with responses of 3 or 4 (i.e., responded as agree or strongly agree) on the attitudes towards science and faith question. \n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(5)`\n\nProduce a correlation matrix of the variables which are to be used in the analysis, and write a short paragraph describing the associations. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the [correlation flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#correlation), and remember to interpret in the context of the research question. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nRecall that we can either index the dataframe or select the variables of interest:\n\n::: {.panel-tabset}\n\n## Index dataframe (`[]`)\n\n```{r}\n# correlation matrix of the three columns of interest (check which columns we need - in this case, 1,2,3)\nround(cor(ebsurvey[,c(1:3)]), digits = 2)\n```\n\n## Variable selection (`select()`)\n\n```{r}\n#| label: tbl-w9-cors\n#| tbl-cap: Correlation Matrix\n# select only the columns we want by variable name, and pass this to cor()\nebsurvey %>% \n  select(attitude, science_knowledge, age) %>%\n  cor() %>%\n    kable(digits = 2, caption = \"Correlation Matrix\") %>%\n    kable_styling(full_width = FALSE)\n```\n\n:::\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\n+ There was a weak, positive, linear association between attitude towards science and faith and age for the participants in the sample $(r = .05)$\n+ There was a weak, negative, linear association between attitude towards science and faith and scientific knowledge for the participants in the sample $(r = -.18)$\n+ There was a weak, negative, linear association between scientific knowledge and age for the participants in the sample $(r = -.12)$. The correlation is relatively small in absolute terms, and we therefore have little concern about multicollinearity influencing this regression analysis\n+ Overall, there were very weak linear associations among the variables of interest\n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Model Fitting & Interpretation \n\n`r qbegin(6)`\n\nFit the specified model, and assign it the name \"att_mdl\".  \n\n$$\n \\text{Attitude} = \\beta_0  + \\beta_1 \\cdot \\text{Science Knowledge} + \\beta_2 \\cdot \\text{Age} + \\epsilon\n$$\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nFor a recap, see the [multiple linear regression model flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#numeric-outcomes-predictors). \n\n:::\n\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\natt_mdl <- lm(attitude ~ science_knowledge + age, data = ebsurvey)\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(7)`\n\nCheck the assumptions of your model. Note any violations of the model assumptions.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the [assumptions flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#model-assumptions) and consider the most efficient way to do this (might be a good idea to review the *useful assumption plots*).  \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r out.width = '95%'}\n#| label: fig-assumpt-w9\n#| fig-cap: \"Assumption Plots for Attitudes Model\"\npar(mfrow = c(2,2)) # set 2 by 2 panels\nplot(att_mdl)\npar(mfrow = c(1,1)) # go back to 1 by 1 panels\n```\n\nBased on the visual inspection of the plots, the assumptions appear to be violated.\n\n`r solend()`\n\n<br>\n\n`r qbegin(8)`\n\nBootstrap your model, computing 1000 bootstrap samples. \n\nProvide key model results in a formatted table, and interpret your coefficients in the context of the research question.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the [bootstrap flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#bootstrap). \n\nYou can't use `tab_model()` here, but instead will need to use `kable()` and `kable_styling()`. Check over the [tables flashcard](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#tables), and in particular review the RMD bootcamp lesson which is signposted to. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#Run model\nboot_mdl <- Boot(att_mdl, R = 1000)\n```\n\n```{r}\n#| label: tbl-w9-modresults\n#| tbl-cap: Bootstrap Regression Results for Attitudes Model\nsummary(boot_mdl) %>%\n    kable(digits = 3, caption = 'Bootstrap Regression Results for Attitudes Model') %>%\n    kable_styling(full_width = FALSE)\n```\n\n::: {.panel-tabset}\n\n## Intercept\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint - Interpretation \n\nThe intercept of a multiple regression model can be interpreted as the average expected value of the dependent variable when all of the independent variables equal zero.\n\n:::\n\n+ As presented in @tbl-w9-modresults, the estimated intercept was approximately 2.79. This represents the expected attitude towards science and faith score when all other variables were zero. \n+ In this case, only a handful of respondents had a scientific knowledge quiz score of zero, and nobody was aged zero. Hence, in this example, the intercept itself isn't very informative. \n    + A way to improve the model here to aid interpretation would be to mean centre age, and then refit the model with the mean centred age variable!\n\n## Scientific knowledge\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint - Interpretation \n\nThis represents the average marginal effect of $X1$ on $Y$, and can be interpreted as the expected change in $Y$ for a one-unit increase in $X1$ controlling for $X2$. See [Semester 1 Week 5 Lab](https://uoepsy.github.io/dapr2/2324/labs/1_05_writeup_recap.html#section-b-block-1-weeks-1---4-recap) for a recap on interpretation. \n\n:::\n\n+ As presented in @tbl-w9-modresults, the estimated value for the scientific knowledge slope was estimated to be approximately -0.08\n+ Results suggested that, holding age constant, for every one point increase in scientific knowledge quiz scores, attitude scores decreased by 0.08 points.\n+ Keeping in mind the valence of the question wording, this means that those who were more knowledgeable of science tended to be more favorable towards science – i.e. disagreeing with the statement.\n\n## Age\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint - Interpretation \n\nThis represents the average marginal effect of $X2$ on $Y$, and can be interpreted as the expected change in $Y$ for a one-unit increase in $X2$ controlling for $X1$. See [Semester 1 Week 5 Lab](https://uoepsy.github.io/dapr2/2324/labs/1_05_writeup_recap.html#section-b-block-1-weeks-1---4-recap) for a recap on interpretation. \n\n:::\n\n+ As presented in @tbl-w9-modresults, the estimated value for the age slope was estimated to be approximately 0.002\n+ Results suggested that, holding science knowledge constant, for every one year increase in age, attitude scores increased by 0.002 points.\n+ Keeping in mind the valence of the question wording, this means that older people tend to be less favorable towards science – i.e. agreeing with the statement.\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(9)`\n\nObtain 95% confidence intervals for your bootstrapped model estimates.  \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nReview the [bootstrap flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#bootstrap). \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nYou can use your preferred confidence level here, but by default this is 95%:\n\n```{r}\nConfint(boot_mdl, level = 0.95, type = \"perc\")\n```\n\nIf you want to make it into a nice table, we can use `kable()`:\n\n```{r}\n#| label: tbl-w9-confint\n#| tbl-cap: Bootstrap 95% CIs\nConfint(boot_mdl, type = \"perc\") %>%\n    kable(digits = 3, caption = 'Bootstrap 95% CIs') %>%\n    kable_styling(full_width = FALSE)\n```\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\n+ We are 95% confident that the population intercept is between 2.68 and 2.90  \n+ We are 95% confident that the population slope for science knowledge is between -0.09 and -0.07  \n+ We are 95% confident that the population slope for age is between 0.001 and 0.004  \n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Writing Up & Presenting Results\n\n`r qbegin(10)`\n\nInterpret the results from your bootstrapped model in the context of the research question.\n\nMake reference to your key result table(s) and plot(s).\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nMake sure to include a decision in relation to your null hypothesis - based on the evidence, should you reject or fail to reject the null?  \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nWe used a subset of data from the [2005 Eurobarometer 63.1 survey](https://www.gesis.org/en/eurobarometer-data-service/survey-series/standard-special-eb/study-overview/eurobarometer-631-za-4233-jan-feb-2005) to investigate whether there was an association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age. \n\nTo answer the research hypothesis, we fitted the following regression model:\n$$\n\\text{Attitude} = \\beta_0 + \\beta_1 \\cdot \\text{Science Knowledge} + \\beta_2 \\cdot \\text{Age} + \\epsilon\n$$\n\n```{r echo=FALSE}\nb0 <- signif(coef(att_mdl)[1],2)\nb1 <- signif(coef(att_mdl)[2],2)\nb2 <- signif(coef(att_mdl)[3],2)\n```\n\nWhich resulted in the following estimated regression coefficients for the original sample:\n\n$$\n\\widehat{\\text{Attitude}} = `r b0` `r b1` \\cdot \\text{Science Knowledge} + `r b2` \\cdot \\text{Age}\n$$\n\nThe model did not satisfy the regression assumptions (see @fig-assumpt-w9) and for this reason we assessed statistical significance using the bootstrap approach with $R = 1000$ resamples.\n\nThe 95% bootstrap confidence intervals are provided in @tbl-w9-confint. Results suggested that there was a negative and statistically significant association between attitudes towards science and faith and scientific knowledge after controlling for age $(\\beta = -0.08, CI_{95}[-0.09, -0.07])$. Since the 95% CI did not contain zero, we rejected the null hypothesis as there was evidence of an association between peoples' attitudes towards science and faith and their scientific knowledge after accounting for their age. Specifically, results suggested that for every additional quiz question people got correct, we expected their attitude score to be lower by about 0.08 points, holding age constant. In other words, respondents with greater scientific knowledge tended to be more favorable towards it, regardless of their age. \n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Compile Report\n\n`r qbegin(\"Compile Report\", qlabel = FALSE)`  \n\nKnit your report to PDF, and check over your work. To do so, you should make sure:\n\n- Only the output you want your reader to see is visible (e.g., do you want to hide your code?)\n- Check that the **tinytex** package is installed\n- Ensure that the ‘yaml’ (bit at the very top of your document) looks something like this:\n\n```{}\n---\ntitle: \"this is my report title\"\nauthor: \"B1234506\"\ndate: \"07/09/2024\"\noutput: bookdown::pdf_document2\n---\n```\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# What to do if you cannot knit to PDF\nIf you are having issues knitting directly to PDF, try the following:  \n\n- Knit to HTML file  \n- Open your HTML in a web-browser (e.g. Chrome, Firefox)  \n- Print to PDF (Ctrl+P, then choose to save to PDF)  \n- Open file to check formatting\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# Hiding Code and/or Output\n\nReview [Lesson 5 of the rmd bootcamp](https://uoepsy.github.io/scs/rmd-bootcamp/05-echoeval.html) for a detailed description/worked examples.\n\n:::{.panel-tabset}\n## Hiding R Code\n\nTo not show the code of an R code chunk, and only show the output, write:\n\n````\n```{{r, echo=FALSE}}\n# code goes here\n```\n````\n\n## Hiding R Output\n\nTo show the code of an R code chunk, but hide the output, write:\n\n````\n```{{r, results='hide'}}\n# code goes here\n```\n````\n\n## Hiding R Code and Output\n\nTo hide both code and output of an R code chunk, write:\n\n````\n```{{r, include=FALSE}}\n# code goes here\n```\n````\n:::\n\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Tinytex\nYou must make sure you have **tinytex** installed in R so that you can “Knit” your Rmd document to a PDF file:\n\n```{r eval = FALSE}\ninstall.packages(\"tinytex\")\ntinytex::install_tinytex()\n```\n\n:::\n\n`r qend()`\n\n`r solbegin(show = params$SHOW_SOLS, toggle = params$TOGGLE)`\n\nYou should end up with a PDF file. If you have followed the above instructions and still have issues with knitting, speak with a Tutor. \n\n`r solend()`\n\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nsource('assets/setup.R')\nset.seed(3)\n```\n\n:::lo\n\n### <i class=\"fa fa-graduation-cap\"></i> Learning Objectives\nAt the end of this lab, you will:\n\n1. Understand the principles of bootstrapping\n2. Understand how to apply the bootstrap confidence interval to inference in linear models\n\n### <i class=\"fa fa-check-square-o fa-2\"></i> What You Need\n\n1. Be up to date with lectures\n2. Have completed previous lab exercises from [Week 2](https://uoepsy.github.io/dapr2/2425/labs/1_02_mlr.html) and [Week 9](https://uoepsy.github.io/dapr2/2425/labs/1_08_assump_diag.html)\n\n### <i class=\"fab fa-r-project\"></i> Required R Packages\nRemember to load all packages within a code chunk at the start of your RMarkdown file using `library()`. If you do not have a package and need to install, do so within the console using `install.packages(\" \")`. For further guidance on installing/updating packages, see Section C [here](https://uoepsy.github.io/files/install-update-r#update-pkgs). \n\nFor this lab, you will need to load the following package(s):\n\n* **tidyverse** \n* **psych**\n* **patchwork**\n* **sjPlot**\n* **kableExtra**\n* **car**\n\n### <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> Presenting Results\nAll results should be presented following [APA guidelines](https://apastyle.apa.org/instructional-aids/numbers-statistics-guide.pdf).If you need a reminder on how to hide code, format tables/plots, etc., make sure to review the [rmd bootcamp](https://uoepsy.github.io/scs/rmd-bootcamp/).\n\nThe example write-up sections included as part of the solutions are **not perfect** - they instead should give you a good example of what information you should include and how to structure this. Note that you must **not** copy any of the write-ups included below for future reports - if you do, you will be committing plagiarism, and this type of academic misconduct is taken very seriously by the University. You can find out more [here](https://www.ed.ac.uk/academic-services/students/conduct/academic-misconduct).\n\n### <i class=\"fa fa-file\"></i> Lab Data\nYou can download the data required for this lab [here](https://uoepsy.github.io/data/science-faith-attitude.csv) or read it in via this link https://uoepsy.github.io/data/science-faith-attitude.csv \n\n:::\n\n# Study Overview\n\n> **Research Question**\n>\n> Is there an association between peoples' attitudes towards science and faith and their scientific knowledge after accounting for their age?\n\n`r optbegin(\"Attitudes Codebook\", olabel=FALSE, toggle=params$TOGGLE)` \n\n__Description__\n\nUsing Eurobarometer measures, researchers were interested in understanding opinions about science, technology, social values, and services of\ngeneral interest. Specifically, researchers wanted to explore whether peoples' attitudes towards science and faith was associated with their scientific knowledge after accounting for their age. To examine these associations, we will use a subset of data from the [2005 Eurobarometer 63.1 survey](https://www.gesis.org/en/eurobarometer-data-service/survey-series/standard-special-eb/study-overview/eurobarometer-631-za-4233-jan-feb-2005). \n\n__Data Dictionary__\n\n```{r echo=FALSE, message=FALSE, warning=FALSE}\nebsurvey <- read_csv(\"https://uoepsy.github.io/data/science-faith-attitude.csv\")\ntibble(\nvariable = names(ebsurvey),\ndescription = c(\"Participant ID\", \"Nation ID:  1 = France, 2 = Belgium, 3 = The Netherlands, 4 = Germany West, 5 = Italy, 6 = Luxembourg, 7 = Denmark, 8 = Ireland, 9 = Great Britain, 10 = Northern Ireland, 11 = Greece, 12 = Spain, 13 = Portugal, 14 = Germany East, 15 = Norway, 16 = Finland, 17 = Sweden, 18 = Austria, 19 = Cyprus (Republic), 20 = Czech Republic, 21 = Estonia, 22 = Hungary, 23 = Latvia, 24 = Lithuania, 25 = Malta, 26 = Poland, 27 = Slovakia, 28 = Slovenia, 29 = Bulgaria, 30 = Romania, 31 = Turkey, 32 = Croatia, 33 Cyprus (TCC; not included), 34 = Iceland, 35 = Switzerland\", \"Score on a science quiz composed of 13 true/false items. Scores can range 0-13.\", \"Individual's age (in years)\", \"Whether participant idenitfied as male (1) or female (0)\", \"Attitude to science and faith. Response to the question - We rely too much on science and not enough on faith. Responses were recorded on a 5-point scale from strongly disagree (0) to strongly agree (4)\", \"Number of explicitly mentioned target phrases in response to the question - Please tell me, in your own words, what it means to study something scientifically?\" )\n) %>% gt::gt()\n```\n\n__Preview__\n\nThe first six rows of the data are:\n\n```{r echo=FALSE, message=FALSE}\nread_csv('https://uoepsy.github.io/data/science-faith-attitude.csv') %>% head %>% gt::gt()\n```\n\n`r optend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Setup\n\n`r qbegin(\"Setup\", qlabel = FALSE)`  \n\n1. Create a new RMarkdown file\n2. Load the required package(s)\n3. Read in the science-faith-attitude dataset into R, assigning it to an object named `ebsurvey` \n \n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r message=FALSE}\n#load packages\nlibrary(tidyverse) \nlibrary(psych)\nlibrary(patchwork)\nlibrary(sjPlot)\nlibrary(kableExtra)\nlibrary(car)\n\n#read in data\nebsurvey <- read_csv(\"https://uoepsy.github.io/data/science-faith-attitude.csv\")\n```\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Exercises \n\n## Study Overview & Data Management\n\n`r qbegin(1)`\n\nExamine the dataset, and perform any necessary and appropriate data management steps.\n\nNote, to address the research question, we only need to refer to the `kstot`, `age`, and `toomuchscience` variables. Subset the data to only have those 3 columns.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n- To subset the data to only include the 3 variables of interest, we can use the `select()` function  \n- Check that the dataset is complete (i.e., are there any `NA` values?). We can check this using `is.na()`  \n    - There are numerous ways to deal with this. Two common commands are `na.omit()` and `drop_na()`. The former will remove all rows from a dataset that contain `NA` values in any column. In the latter, we can specify which columns we want to identify `NA` values in, and remove only rows containing `NA` values for those specific columns. In other words, the latter can help to preserve more data  \n- If needed, provide better variable names\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n# Inspect top 6 rows\nhead(ebsurvey)\n\n# Check data dimensions\ndim(ebsurvey)\n```\n\nThere are `r nrow(ebsurvey)` observations on `r ncol(ebsurvey)` variables.\n\nHowever, today we will be only using the `kstot`, `age`, and `toomuchscience` variables, and so we subset the data to only include these:\n\n```{r}\nebsurvey <- ebsurvey %>%\n    select(kstot, age, toomuchscience)\n```\n\nAre there any `NA` values in the data?\n```{r}\n#check for NAs\nanyNA(ebsurvey)\n\n#how many NAs?\ntable(is.na(ebsurvey))\n#11390 NAs in data set \n\n#Omit the NAs - we are interested in all three columns so do not need to specify within drop_na()\nebsurvey <- ebsurvey %>%\n    drop_na()\n\n# Check new data dimensions\ndim(ebsurvey)\n```\n\nGive the variables more meaningful names. Rename `kstot` to `science_knowledge` and rename `toomuchscience` to `attitude`:\n\n```{r}\nebsurvey <- ebsurvey %>%\n    rename(science_knowledge = kstot,\n           attitude = toomuchscience)\nhead(ebsurvey)\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(2)`\n\nProvide a brief overview of the study design and data, before detailing your analysis plan to address the research question.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\n- Give the reader some background on the context of the study\n- State what type of analysis you will conduct in order to address the research question\n- Specify the model to be fitted to address the research question (note that you will need to specify the reference level of any categorical variable(s))\n- Specify your chosen significance ($\\alpha$) level\n- State your hypotheses\n\nMuch of the information required can be found in the [Study Overview] codebook. The [statistical models](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#statistical-models) flashcards may also be useful to refer to. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nThe `ebsurvey` dataset, excluding missing values, included 10,503 individual respondents who were measured on 3 different attributes of interest: (1) score on a science \"quiz\" composed of 13 true/false items; (2) attitudes towards science and faith (question phrasing: \"We rely too much on science and not enough on faith\" with responses recorded on a 5-point scale from strongly disagree to strongly agree); and (3) their age (in years).\n\nHistograms will be used to visualise the marginal distributions of attitudes towards science and faith, scientific knowledge, and age. To understand the strength of association among the variables, we will estimate the the correlation coefficients. To address the research question of whether there is an association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age, we are going to fit the following multiple linear regression model:\n\n$$\n \\text{Attitude} = \\beta_0  + \\beta_1 \\cdot \\text{Science Knowledge} + \\beta_2 \\cdot \\text{Age} + \\epsilon\n$$\nEffects will be considered statistically significant at $\\alpha = .05$.\n\nOur hypotheses are:\n\n$H_0: \\beta_1 = 0$: There is no association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age\n\n$H_1: \\beta_1 \\neq 0$: There is an association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Descriptive Statistics & Visualisations\n\n`r qbegin(3)`\n\nAlongside descriptive statistics, visualise the marginal distributions of the `attitude`, `science_knowledge`, and `age` variables. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the many ways to numerically and visually explore your data by reading over the [data exploration flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#data-exploration).\n\nFor examples, see flashcards on [descriptives statistics tables](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#data-exploration) and [data visualisation - marginal](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#visual-exploration).\n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n::: {.panel-tabset}\n\n## Numeric\n\n```{r}\n#| label: tbl-w9-desc\n#| tbl-cap: Attitude, Scientfic Knowledge, and Age Descriptive Statistics\n\n# drop columns 5, 6, 7 and 13 from describe output\nebsurvey %>% \n    describe() %>%\n    select(-c(5:7, 13)) %>%\n    kable(caption = \"Attitude, Scientfic Knowledge, and Age Descriptive Statistics\", align = \"c\", digits = 2) %>%\n    kable_styling(full_width = FALSE)\n\n```\n\n## Visual\n\n::: {.panel-tabset}\n\n### Attitude Towards Science & Faith\n\n```{r}\n#| label: fig-w9-attitude\n#| fig-cap: \"Bar Chart of Attitude Scores\"\nggplot(ebsurvey, aes(x = attitude)) +\n    geom_bar() +\n    labs(x = 'We Rely too Much on Science and not Enough on Faith', \n         y = 'Frequency')\n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\nThe mean score on the science and faith attitude variable is just over 2. There are only 5 discrete values possible in the distribution, based on the response options available, but the distribution looks approximately normal, with a slight negative skew (see @fig-w9-attitude).\n\n:::\n\n### Science Knowledge\n\n```{r}\n#| label: fig-w9-sciknow\n#| fig-cap: \"Histogram of Scientific Knowledge Scores\"\nggplot(ebsurvey, aes(x = science_knowledge)) +\n    geom_histogram() +\n    labs(x = 'Science Knowledge Quiz Scores', \n         y = 'Frequency')\n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\n@fig-w9-sciknow shows that the majority of values on the science knowledge quiz score cluster between about 5 and 11. There is a slight negative skew to the distribution. Overall there is little reason for concern as to the appropriateness of the variable for inclusion.\n\n:::\n\n### Age\n\n```{r}\n#| label: fig-w9-age\n#| fig-cap: \"Histogram of Age\"\nggplot(ebsurvey, aes(x = age)) +\n    geom_histogram() +\n    labs(x = 'Age (years)', \n         y = 'Frequency')\n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\nThe mean age in the sample is about 45 years with a standard deviation of just over 17 years. The distribution looks approximately normal, with a slight positive skew (see @fig-w9-age).\n\n:::\n\n:::\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(4)`\n\nProduce plots of the associations between the outcome variable and each of the explanatory variables.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \nReview how to visually explore bivariate associations via the [data visualisation flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#visual-exploration). For specifically visualising associations between variables, see the [bivariate examples flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#visual-exploration).  \n\nNote that using `geom_point()` here might not be the best idea - all we would see from the plot is all combinations of Attitude towards Science and Faith and a) Age and b) Science Knowledge that were observed in the data, and this is not very informative:\n\n```{r message = FALSE, warning=FALSE, echo = FALSE}\n#| label: fig-biv-relationship-demo\n#| fig-cap: \"Scatterplots displaying the associations between Attitude towards Science and Faith and a) Age, and b) Science Knowledge\"\np1_ex <- ggplot(data = ebsurvey, aes(x = age, y = attitude)) +\n    geom_point() +\n    labs(x = 'Age (in years)', y = \"Attitude towards Science and Faith\")\n\np2_ex <- ggplot(data = ebsurvey, aes(x = science_knowledge, y = attitude)) +\n    geom_point()  +\n    labs(x = \"Science Knowledge Quiz Scores\", y = \"Attitude towards Science and Faith\")\n\np1_ex | p2_ex\n```\n\nInstead, you may want to consider using `geom_jitter()` to add a little bit of noise (or jitter)  to the plot. Within the `geom_jitter()` argument, take some time to experiment with the `size = ` and `alpha = ` arguments to find optimal values to aid interpretation. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r message = FALSE, warning=FALSE}\n#| label: fig-biv-relationship\n#| fig-cap: \"Scatterplots displaying the associations between Attitude towards Science and Faith and a) Age, and b) Science Knowledge\"\np1 <- ggplot(data = ebsurvey, aes(x = age, y = attitude)) +\n    geom_jitter(size = .5, alpha = .3) +\n    labs(x = 'Age (in years)', y = \"Attitude towards Science and Faith\")\n\np2 <- ggplot(data = ebsurvey, aes(x = science_knowledge, y = attitude)) +\n    geom_jitter(size = .5, alpha = .3)  +\n    labs(x = \"Science Knowledge Quiz Scores\", y = \"Attitude towards Science and Faith\")\n\np1 | p2 \n```\n\n:::{.callout-important icon=false appearance=\"minimal\"}\n\nIt does not seem like there is a strong linear dependence of attitude to science and faith on a person's age or their scientific knowledge. We can make some rough observations:\n\n+ The majority of respondents scored 2 or 3 (i.e., responded as neutral or agree) on the attitudes towards science and faith question\n+ Very few people strongly disagreed with the attitudes towards science and faith question, but this appeared to be slightly more common in younger respondents\n+ Very few people had scientific knowledge quiz scores <5. Lower scientific knowledge quiz scores appeared to be associated with responses of 3 or 4 (i.e., responded as agree or strongly agree) on the attitudes towards science and faith question. \n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(5)`\n\nProduce a correlation matrix of the variables which are to be used in the analysis, and write a short paragraph describing the associations. \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the [correlation flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#correlation), and remember to interpret in the context of the research question. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nRecall that we can either index the dataframe or select the variables of interest:\n\n::: {.panel-tabset}\n\n## Index dataframe (`[]`)\n\n```{r}\n# correlation matrix of the three columns of interest (check which columns we need - in this case, 1,2,3)\nround(cor(ebsurvey[,c(1:3)]), digits = 2)\n```\n\n## Variable selection (`select()`)\n\n```{r}\n#| label: tbl-w9-cors\n#| tbl-cap: Correlation Matrix\n# select only the columns we want by variable name, and pass this to cor()\nebsurvey %>% \n  select(attitude, science_knowledge, age) %>%\n  cor() %>%\n    kable(digits = 2, caption = \"Correlation Matrix\") %>%\n    kable_styling(full_width = FALSE)\n```\n\n:::\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\n+ There was a weak, positive, linear association between attitude towards science and faith and age for the participants in the sample $(r = .05)$\n+ There was a weak, negative, linear association between attitude towards science and faith and scientific knowledge for the participants in the sample $(r = -.18)$\n+ There was a weak, negative, linear association between scientific knowledge and age for the participants in the sample $(r = -.12)$. The correlation is relatively small in absolute terms, and we therefore have little concern about multicollinearity influencing this regression analysis\n+ Overall, there were very weak linear associations among the variables of interest\n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Model Fitting & Interpretation \n\n`r qbegin(6)`\n\nFit the specified model, and assign it the name \"att_mdl\".  \n\n$$\n \\text{Attitude} = \\beta_0  + \\beta_1 \\cdot \\text{Science Knowledge} + \\beta_2 \\cdot \\text{Age} + \\epsilon\n$$\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nFor a recap, see the [multiple linear regression model flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#numeric-outcomes-predictors). \n\n:::\n\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\natt_mdl <- lm(attitude ~ science_knowledge + age, data = ebsurvey)\n```\n\n`r solend()`\n\n<br>\n\n`r qbegin(7)`\n\nCheck the assumptions of your model. Note any violations of the model assumptions.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the [assumptions flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#model-assumptions) and consider the most efficient way to do this (might be a good idea to review the *useful assumption plots*).  \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r out.width = '95%'}\n#| label: fig-assumpt-w9\n#| fig-cap: \"Assumption Plots for Attitudes Model\"\npar(mfrow = c(2,2)) # set 2 by 2 panels\nplot(att_mdl)\npar(mfrow = c(1,1)) # go back to 1 by 1 panels\n```\n\nBased on the visual inspection of the plots, the assumptions appear to be violated.\n\n`r solend()`\n\n<br>\n\n`r qbegin(8)`\n\nBootstrap your model, computing 1000 bootstrap samples. \n\nProvide key model results in a formatted table, and interpret your coefficients in the context of the research question.\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nReview the [bootstrap flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#bootstrap). \n\nYou can't use `tab_model()` here, but instead will need to use `kable()` and `kable_styling()`. Check over the [tables flashcard](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#tables), and in particular review the RMD bootcamp lesson which is signposted to. \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#Run model\nboot_mdl <- Boot(att_mdl, R = 1000)\n```\n\n```{r}\n#| label: tbl-w9-modresults\n#| tbl-cap: Bootstrap Regression Results for Attitudes Model\nsummary(boot_mdl) %>%\n    kable(digits = 3, caption = 'Bootstrap Regression Results for Attitudes Model') %>%\n    kable_styling(full_width = FALSE)\n```\n\n::: {.panel-tabset}\n\n## Intercept\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint - Interpretation \n\nThe intercept of a multiple regression model can be interpreted as the average expected value of the dependent variable when all of the independent variables equal zero.\n\n:::\n\n+ As presented in @tbl-w9-modresults, the estimated intercept was approximately 2.79. This represents the expected attitude towards science and faith score when all other variables were zero. \n+ In this case, only a handful of respondents had a scientific knowledge quiz score of zero, and nobody was aged zero. Hence, in this example, the intercept itself isn't very informative. \n    + A way to improve the model here to aid interpretation would be to mean centre age, and then refit the model with the mean centred age variable!\n\n## Scientific knowledge\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint - Interpretation \n\nThis represents the average marginal effect of $X1$ on $Y$, and can be interpreted as the expected change in $Y$ for a one-unit increase in $X1$ controlling for $X2$. See [Semester 1 Week 5 Lab](https://uoepsy.github.io/dapr2/2324/labs/1_05_writeup_recap.html#section-b-block-1-weeks-1---4-recap) for a recap on interpretation. \n\n:::\n\n+ As presented in @tbl-w9-modresults, the estimated value for the scientific knowledge slope was estimated to be approximately -0.08\n+ Results suggested that, holding age constant, for every one point increase in scientific knowledge quiz scores, attitude scores decreased by 0.08 points.\n+ Keeping in mind the valence of the question wording, this means that those who were more knowledgeable of science tended to be more favorable towards science – i.e. disagreeing with the statement.\n\n## Age\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint - Interpretation \n\nThis represents the average marginal effect of $X2$ on $Y$, and can be interpreted as the expected change in $Y$ for a one-unit increase in $X2$ controlling for $X1$. See [Semester 1 Week 5 Lab](https://uoepsy.github.io/dapr2/2324/labs/1_05_writeup_recap.html#section-b-block-1-weeks-1---4-recap) for a recap on interpretation. \n\n:::\n\n+ As presented in @tbl-w9-modresults, the estimated value for the age slope was estimated to be approximately 0.002\n+ Results suggested that, holding science knowledge constant, for every one year increase in age, attitude scores increased by 0.002 points.\n+ Keeping in mind the valence of the question wording, this means that older people tend to be less favorable towards science – i.e. agreeing with the statement.\n\n:::\n\n`r solend()`\n\n<br>\n\n`r qbegin(9)`\n\nObtain 95% confidence intervals for your bootstrapped model estimates.  \n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint\n\nReview the [bootstrap flashcards](https://uoepsy.github.io/dapr2/2425/labs/1_b4_reading.html#bootstrap). \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nYou can use your preferred confidence level here, but by default this is 95%:\n\n```{r}\nConfint(boot_mdl, level = 0.95, type = \"perc\")\n```\n\nIf you want to make it into a nice table, we can use `kable()`:\n\n```{r}\n#| label: tbl-w9-confint\n#| tbl-cap: Bootstrap 95% CIs\nConfint(boot_mdl, type = \"perc\") %>%\n    kable(digits = 3, caption = 'Bootstrap 95% CIs') %>%\n    kable_styling(full_width = FALSE)\n```\n\n::: {.callout-important icon=false appearance=\"minimal\"}\n\n+ We are 95% confident that the population intercept is between 2.68 and 2.90  \n+ We are 95% confident that the population slope for science knowledge is between -0.09 and -0.07  \n+ We are 95% confident that the population slope for age is between 0.001 and 0.004  \n\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n## Writing Up & Presenting Results\n\n`r qbegin(10)`\n\nInterpret the results from your bootstrapped model in the context of the research question.\n\nMake reference to your key result table(s) and plot(s).\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Hint \n\nMake sure to include a decision in relation to your null hypothesis - based on the evidence, should you reject or fail to reject the null?  \n\n:::\n\n`r qend()`\n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\nWe used a subset of data from the [2005 Eurobarometer 63.1 survey](https://www.gesis.org/en/eurobarometer-data-service/survey-series/standard-special-eb/study-overview/eurobarometer-631-za-4233-jan-feb-2005) to investigate whether there was an association between people’s scientific knowledge and their attitudes towards science and faith after accounting for their age. \n\nTo answer the research hypothesis, we fitted the following regression model:\n$$\n\\text{Attitude} = \\beta_0 + \\beta_1 \\cdot \\text{Science Knowledge} + \\beta_2 \\cdot \\text{Age} + \\epsilon\n$$\n\n```{r echo=FALSE}\nb0 <- signif(coef(att_mdl)[1],2)\nb1 <- signif(coef(att_mdl)[2],2)\nb2 <- signif(coef(att_mdl)[3],2)\n```\n\nWhich resulted in the following estimated regression coefficients for the original sample:\n\n$$\n\\widehat{\\text{Attitude}} = `r b0` `r b1` \\cdot \\text{Science Knowledge} + `r b2` \\cdot \\text{Age}\n$$\n\nThe model did not satisfy the regression assumptions (see @fig-assumpt-w9) and for this reason we assessed statistical significance using the bootstrap approach with $R = 1000$ resamples.\n\nThe 95% bootstrap confidence intervals are provided in @tbl-w9-confint. Results suggested that there was a negative and statistically significant association between attitudes towards science and faith and scientific knowledge after controlling for age $(\\beta = -0.08, CI_{95}[-0.09, -0.07])$. Since the 95% CI did not contain zero, we rejected the null hypothesis as there was evidence of an association between peoples' attitudes towards science and faith and their scientific knowledge after accounting for their age. Specifically, results suggested that for every additional quiz question people got correct, we expected their attitude score to be lower by about 0.08 points, holding age constant. In other words, respondents with greater scientific knowledge tended to be more favorable towards it, regardless of their age. \n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Compile Report\n\n`r qbegin(\"Compile Report\", qlabel = FALSE)`  \n\nKnit your report to PDF, and check over your work. To do so, you should make sure:\n\n- Only the output you want your reader to see is visible (e.g., do you want to hide your code?)\n- Check that the **tinytex** package is installed\n- Ensure that the ‘yaml’ (bit at the very top of your document) looks something like this:\n\n```{}\n---\ntitle: \"this is my report title\"\nauthor: \"B1234506\"\ndate: \"07/09/2024\"\noutput: bookdown::pdf_document2\n---\n```\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# What to do if you cannot knit to PDF\nIf you are having issues knitting directly to PDF, try the following:  \n\n- Knit to HTML file  \n- Open your HTML in a web-browser (e.g. Chrome, Firefox)  \n- Print to PDF (Ctrl+P, then choose to save to PDF)  \n- Open file to check formatting\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n# Hiding Code and/or Output\n\nReview [Lesson 5 of the rmd bootcamp](https://uoepsy.github.io/scs/rmd-bootcamp/05-echoeval.html) for a detailed description/worked examples.\n\n:::{.panel-tabset}\n## Hiding R Code\n\nTo not show the code of an R code chunk, and only show the output, write:\n\n````\n```{{r, echo=FALSE}}\n# code goes here\n```\n````\n\n## Hiding R Output\n\nTo show the code of an R code chunk, but hide the output, write:\n\n````\n```{{r, results='hide'}}\n# code goes here\n```\n````\n\n## Hiding R Code and Output\n\nTo hide both code and output of an R code chunk, write:\n\n````\n```{{r, include=FALSE}}\n# code goes here\n```\n````\n:::\n\n:::\n\n:::{.callout-tip appearance=\"simple\" collapse=\"true\"}\n\n### Tinytex\nYou must make sure you have **tinytex** installed in R so that you can “Knit” your Rmd document to a PDF file:\n\n```{r eval = FALSE}\ninstall.packages(\"tinytex\")\ntinytex::install_tinytex()\n```\n\n:::\n\n`r qend()`\n\n`r solbegin(show = params$SHOW_SOLS, toggle = params$TOGGLE)`\n\nYou should end up with a PDF file. If you have followed the above instructions and still have issues with knitting, speak with a Tutor. \n\n`r solend()`\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":true,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"include-in-header":["assets/toggling.html",{"text":"<link rel=\"stylesheet\" href=\"https://uoepsy.github.io/assets/css/ccfooter.css\" />\n"}],"number-sections":false,"output-file":"1_09_bootstrap.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","bibliography":["biblio.bib"],"toc_float":true,"code-annotations":"hover","link-citations":true,"theme":["united","assets/style-labs.scss"],"title":"Bootstrapping","params":{"SHOW_SOLS":true,"TOGGLE":true},"editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}